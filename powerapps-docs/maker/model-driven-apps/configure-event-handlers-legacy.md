---
title: Настройка обработчиков событий для основных форм управляемых моделью приложений в PowerApps | MicrosoftDocs
description: 'Узнайте, как настраивать обработчики событий в Dynamics 365 for Customer Engagement'
Keywords: Main form; Configure event handlers; Dynamics 365
author: Mattp123
applies_to:
  - Dynamics 365 (online)
  - Dynamics 365 Version 9.x
  - powerapps
ms.author: matp
manager: kvivek
ms.date: 06/27/2018
ms.service: crm-online
ms.topic: article
ms.assetid: dc0ebb3f-0c00-413a-968f-9cfd107055c0
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---
# <a name="configure-model-driven-app-form-event-handlers"></a>Настройка обработчиков событий форм управляемых моделью приложений

 Обработчики событий форм для форм PowerApps можно настроить для следующих областей в форме:  
  
|Элемент|Мероприятие|Описание|  
|-------------|-----------|-----------------|  
|Форма|`OnLoad`|Возникает при загрузке формы.|  
||`OnSave`|Возникает при сохранении данных.|  
|Вкладка|`TabStateChange`|Возникает при развертывании или сворачивании вкладки.|  
|Поле|`OnChange`|Возникает, когда данные в поле меняются и элемент управления теряет фокус.|  
|Интернет-кадр|`OnReadyStateComplete`|Возникает при загрузке содержимого интернет-кадра.|  
  
 Обработчик событий состоит из ссылки на веб-ресурс JavaScript и функции, определенной в веб-ресурсе, который будет выполняться при возникновении события. Для каждого элемента может быть настроено до 50 отдельных обработчиков событий.  
  
> [!IMPORTANT]
>  Неправильная настройка обработчика событий может привести к ошибках в скриптах, которые могут стать причиной того, что форма не будет загружаться или будет работать неправильно. Если вы не являетесь разработчиком скрипта, убедитесь, что вы точно знаете, какие параметры конфигурации требуются для скрипта.  
>   
>  Не настраивайте обработчик событий скрипта с помощью библиотеки, которая не поступает из доверенного источника. Скрипты можно использовать для выполнения любого действия пользователя, и плохо написанный скрипт может существенно снизить быстродействие формы.  
>   
>  После настройки обработчика событий всегда тестируйте его, чтобы убедиться, что он работает правильно.  
  
### <a name="to-configure-an-event-handler"></a>Настройка обработчика событий 
  
1.  В редакторе форм выберите элемент с событием, обработчик которого требуется настроить.  
  
2.  На [вкладке "Домашняя страница"](form-editor-user-interface-legacy.md#home-tab) в группе **Правка** выберите **Изменить свойства** или просто дважды щелкните элемент.  
  
3.  В диалоговом окне свойств элемента перейдите на вкладку **События**.  
  
4.  Разверните область **Библиотеки форм**. Если библиотеки, содержащей функцию, которую требуется установить в качестве обработчика событий, еще нет в списке, добавьте библиотеку.  
  
5.  Добавление библиотеки форм в обработчик событий:  
    1.  В разделе **Библиотеки форм** группы **Список событий** выберите **Добавить**.  
  
    2.  Найдите веб-ресурс JavaScript в списке доступных веб-ресурсов. Выберите его, затем выберите **Добавить**.  
  
         Если требуемый веб-ресурс JavaScript не существует, выберите **Создать**, чтобы открыть форму создания веб-ресурса, и создайте веб-ресурс.  
  
    3.  Создание веб-ресурса JavaScript:  
        1.  В форме веб-ресурса задайте следующие свойства.  
  
            |Свойство|Значение|  
            |--------------|-----------|  
            |Полное имя|**Необходимые**. Введите имя веб-ресурса.|  
            |Отображаемое имя|**Необходимые**. Введите имя для отображения в списке веб-ресурсов.|  
            |Описание|Необязательно. Введите описание веб-ресурса.|  
            |Тип|**Необходимые**. Выберите **Скрипт (JScript)**.|  
            |Язык|Необязательно. Выберите один из языков, доступных для организации.|  
  
        2.  Если скрипт был предоставлен, настоятельно рекомендуется нажать кнопку **Обзор**, чтобы найти файл и отправить его.  
  
             Также можно выбрать кнопку **Текстовый редактор** и вставить или ввести содержимое скрипта в диалоговом окне **Изменить контент**.  
  
            > [!NOTE]
            >  Поскольку этот простой текстовый редактор не предоставляет никаких функций для проверки правильности скрипта, обычно всегда рекомендуется использовать отдельное приложение, такое как Visual Studio, чтобы изменить скрипты, а затем отправить их.  
  
        3.  Выберите **Сохранить** и закройте диалог веб-ресурса.  
  
        4.  Созданный веб-ресурс теперь выбран в диалоговом окне **Поиск записи**. Выберите **Добавить**, чтобы закрыть диалог.  
6.  В разделе **Обработчики событий** выберите событие, для которого требуется задать обработчик событий.  
  
7.  Выберите **Добавить**, чтобы открыть диалог **Свойства обработчика**.  
  
8. На вкладке **Сведения** выберите соответствующий библиотеку и введите имя функции, которая должна выполняться для события.  
  
9. Обработчик событий включен по умолчанию. Снимите флажок **Включено**, если не требуется включать это событие.  
  
     Для некоторых функций требуется передать контекст выполнения в функцию. Установите флажок **Передача контекста выполнения в качестве первого параметра**, если это необходимо.  
  
     Некоторые функции могут принимать набор параметров для управления поведением функции. Если они необходимы, введите их в раздел **Список параметров, разделенных запятыми, который будет передан функции**.  
  
10. На вкладке **Зависимости** добавьте все поля, от которых зависит скрипт, в область **Зависимые поля**.  
  
11. Выберите **ОК**, чтобы закрыть диалог **Свойства обработчика**.  
  
12. При вводе обработчика событий можно изменить порядок выполнения функции по отношению к любым другим функциям с помощью зеленых стрелок для перемещения вверх или вниз.  
  
13. Выберите **OK**, чтобы закрыть диалог свойств элемента.  
  
14. Выберите **Сохранить**, чтобы сохранить изменения. Выберите **Опубликовать**, чтобы опубликовать форму.  
  
> [!NOTE]
>  Хотя пользовательский интерфейс позволяет откорректировать порядок загрузки скриптов с помощью зеленых стрелок вверх и вниз, на самом деле скрипты загружаются не последовательно.   

## <a name="next-steps"></a>Дальнейшие действия

[Использование основной формы и ее компонентов](use-main-form-and-components.md)
