---
title: Учебник по предоставлению общего доступа к приложению на основе модели с помощью PowerApps | Документы Майкрософт
description: В этом учебнике вы узнаете, как предоставить общий доступ к приложению на основе модели.
documentationcenter: ''
author: Mattp123
manager: kfile
editor: ''
tags: ''
ms.service: powerapps
ms.devlang: na
ms.topic: conceptual
ms.component: model
ms.date: 03/21/2018
ms.author: matp
ms.openlocfilehash: 4068bbc4e67adee344544c0ba69895244d3dab83
ms.sourcegitcommit: 68fc13fdc2c991c499ad6fe9ae1e0f8dab597139
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2018
ms.locfileid: "32330383"
---
# <a name="tutorial-share-a-model-driven-app-with-powerapps"></a>Учебник. Предоставление общего доступа к приложению на основе модели с помощью PowerApps

Для предоставления общего доступа к приложениям [!INCLUDE [powerapps](../../includes/powerapps.md)] используется безопасность на основе ролей. Основным принципом безопасности на основе ролей является то, что роль безопасности содержит привилегии, определяющие наборы действий, которые можно выполнять в приложении. Каждому пользователю приложения необходимо назначить одну или несколько предварительно определенных или пользовательских ролей. Роли также можно назначать командам. Когда пользователю или команде назначается одна из ролей, они получают соответствующий набор привилегий. 

В этом учебнике рассматривается предоставление общего доступа к приложению на основе модели другим пользователям. Вы узнаете, как выполнять следующие задачи:
- создание пользовательской роли безопасности;
- назначение пользовательской роли безопасности пользователям;
- назначение роли безопасности приложению.

## <a name="prerequisites"></a>Технические условия
Для предоставления общего доступа к приложению требуется роль администратора среды или системного администратора [!INCLUDE [powerapps](../../includes/powerapps.md)]. 

## <a name="sign-in-to-powerapps"></a>Вход в PowerApps
Войдите в [PowerApps](https://powerapps.microsoft.com/). Если у вас еще нет учетной записи [!INCLUDE [powerapps](../../includes/powerapps.md)], перейдите по ссылке **Зарегистрируйтесь бесплатно**.

## <a name="share-an-app"></a>Общий доступ к приложению 
В этом учебнике в качестве примера рассматривается компания Contoso, которая занимается уходом за домашними животными (кошками и собаками). Приложение, содержащее пользовательскую сущность для отслеживания деятельности компании, уже создано и опубликовано. Теперь необходимо предоставить доступ к приложению, чтобы персонал компании мог пользоваться им. Чтобы предоставить общий доступ к приложению, администратор или создатель приложения назначает одну или несколько ролей безопасности пользователям и приложению. 

## <a name="create-or-configure-a-security-role"></a>Создание или настройка роли безопасности
В среде [!INCLUDE [powerapps](../../includes/powerapps.md)] есть [предварительно определенные роли безопасности](#about-predefined-security-roles), соответствующие распространенным задачам пользователей. Уровни доступа этих ролей соответствуют рекомендациям и обеспечивают доступ к минимальным объему бизнес-данных, необходимому для работы с приложением. Помните, что приложение компании Contoso основано на пользовательской сущности. Поэтому чтобы пользователи могли работать с ним, привилегии должны быть заданы явным образом. Это можно сделать одним из следующих способов:
- расширьте существующую предварительно определенную роль безопасности так, чтобы она включала привилегии для записей, основанных на пользовательской сущности; 
- создайте пользовательскую роль безопасности с целью управления привилегиями для пользователей приложения. 

Так как среда, в которой ведутся записи об уходе за животными, также применяется для других приложений в компании Contoso, будет создана пользовательская роль безопасности, относящаяся к приложению для управления уходом за животными. Кроме того, потребуются два разных набора привилегий доступа.
- Специалистам по уходу за животными необходимо только считывать, обновлять и добавлять записи, поэтому их роль безопасности будет иметь привилегии на чтение, запись и добавление. 
- Диспетчерам требуются все привилегии, которые есть у специалистов по уходу, а также возможность создавать, удалять записи, добавлять к ним данные и предоставлять общий доступ к ним, поэтому их роль безопасности будет иметь привилегии на создание, чтение, запись, добавление, удаление, назначение, добавление к записи и общий доступ.

Дополнительные сведения о привилегиях доступа и области действия см. в разделе [Роли безопасности](https://docs.microsoft.com/dynamics365/customer-engagement/admin/security-roles-privileges#security-roles).

## <a name="create-a-custom-security-role"></a>Создание пользовательской роли безопасности
1. На сайте [!INCLUDE [powerapps](../../includes/powerapps.md)] последовательно выберите **На основе модели** > **Приложения** > **…**> **Поделиться ссылкой**.
2. В диалоговом окне **Поделиться приложением** в разделе **Создание роли безопасности** выберите **Настройка безопасности**.
3. На странице **Параметры** выберите **Создать**.  

4. В конструкторе ролей безопасности выберите действия, например чтение, запись или удаление, и область выполнения этих действий. Область определяет то, на каком уровне иерархии среды пользователь может выполнять определенное действие. В поле **Имя роли** введите *Специалисты по уходу за животными*.
5. Перейдите на вкладку **Настраиваемые сущности** и найдите нужную пользовательскую сущность. В этом примере применяется пользовательская сущность с именем **Pet**. 
6. В строке **Pet** выберите каждую из следующих привилегий четыре раза, пока не будет выбрана ![глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png): **Чтение, Запись, Добавление**
![Новая роль безопасности](media/share-model-driven-app/custom-security-role.png)
7. Так как приложение для управления уходом за животными также имеет связь с сущностью учетной записи, перейдите на вкладку **Базовые записи** и в строке **Учетная запись** четыре раза выберите привилегию **Чтение**, пока не будет выбрана ![глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png). 
8. Нажмите **Сохранить и закрыть**. 
9. В конструкторе ролей безопасности в поле **Имя роли** введите *Диспетчеры ухода за животными*. 
10. Перейдите на вкладку **Настраиваемые сущности** и найдите сущность **Pet**. 
11. В строке **Pet** выберите каждую из следующих привилегий четыре раза, пока не будет выбрана ![глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png): **Создание, Чтение, Запись, Удаление, Добавление, Добавление к, Назначение, Общий доступ**
12. Так как приложение для управления уходом за животными также имеет связь с сущностью учетной записи и диспетчеры должны иметь возможность создавать и изменять учетные записи, перейдите на вкладку **Базовые записи** и в строке **Учетная запись** четыре раза выберите каждую из следующих привилегий, пока не будет выбрана ![глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png): 
    **Создание, Чтение, Запись, Удаление, Добавление, Добавление к, Назначение, Общий доступ**
13. Нажмите **Сохранить и закрыть**.

## <a name="assign-security-roles-to-users"></a>Назначение ролей безопасности пользователям
Роли безопасности управляют доступом пользователей к данным посредством набора уровней доступа и разрешений. Сочетание уровней доступа и разрешений, включенных в определенную роль безопасности, ограничивает возможности пользователя по просмотру данных и взаимодействию с ними.

### <a name="assign-a-security-role-to-pet-grooming-technicians"></a>Назначение роли безопасности специалистам по уходу за животными
1. В диалоговом окне **Поделиться приложением** в разделе **Назначение пользователей роли безопасности** выберите **Пользователи безопасности**.
2. В появившемся списке выберите специалистов по уходу за животными.
3. Выберите элемент **Управление ролями**.

    ![Управление ролями](media/share-model-driven-app/select-users-for-security-roles.png)

4. В диалоговом окне **Операции с ролями пользователей** выберите ранее созданную роль безопасности **Специалисты по уходу за животными** и нажмите кнопку **ОК**.

### <a name="assign-a-security-role-to-pet-grooming-schedulers"></a>Назначение роли безопасности диспетчерам ухода за животными
1. В диалоговом окне **Поделиться приложением** в разделе **Назначение пользователей роли безопасности** выберите **Пользователи безопасности**.
2. В появившемся списке выберите диспетчеров ухода за животными.
3. Выберите элемент **Управление ролями**.
4. В диалоговом окне **Операции с ролями пользователей** выберите ранее созданную роль безопасности **Диспетчеры ухода за животными** и нажмите кнопку **ОК**.


## <a name="add-security-roles-to-the-app"></a>Добавление ролей безопасности к приложению
Далее необходимо назначить приложению одну или несколько ролей безопасности. Пользователи будут получать доступ к приложениям в зависимости от назначенных им ролей безопасности.
1. В диалоговом окне **Поделиться приложением** в разделе **Добавление роли безопасности к приложению** выберите **Мои приложения**.
2. В правом нижнем углу плитки приложения Contoso для управления уходом за животными выберите **Дополнительные параметры (...)**, а затем пункт **Управление ролями**.

    ![Управление ролями для приложения](media/share-model-driven-app/manage-roles.png)

4. В разделе **Роли** можно указать, следует ли предоставить доступ к приложению всем ролям безопасности или только выбранным. Выберите ранее созданные роли **Диспетчеры ухода за животными** и **Специалисты по уходу за животными**.

    ![Выбор ролей безопасности для приложения](media/share-model-driven-app/app-security-roles.png)

5. Щелкните **Сохранить**.
 
## <a name="share-the-link-to-your-app"></a>Предоставление ссылки на приложение
1. В диалоговом окне **Поделиться приложением** в разделе **Поделиться ссылкой на приложение напрямую с пользователями** скопируйте URL-адрес.
 
2. Нажмите **Закрыть**.
3. Вставьте URL-адрес приложения в доступном для пользователей месте, например на сайте SharePoint, или разошлите его по электронной почте.

![Предоставление ссылки](media/share-model-driven-app/share-model-driven-URL.PNG)

URL-адрес приложения также можно найти на вкладке **Свойства** в конструкторе приложений. 
    
![Копирование URL-адреса приложения](media/share-model-driven-app/app-designer-copy-web-url.png)

## <a name="about-predefined-security-roles"></a>О предварительно определенных ролях безопасности
В среде [!INCLUDE [powerapps](../../includes/powerapps.md)] доступны перечисленные ниже предварительно определенные роли безопасности.


|Роль безопасности  |*Привилегии  |Описание |
|---------|---------|---------|
|Создатель среды     |  Нет       | Может создавать ресурсы, связанные со средой, включая приложения, подключения, пользовательские интерфейсы API, шлюзы и последовательности с использованием Microsoft Flow. Однако не имеет привилегий на доступ к данным в среде. Дополнительные сведения см. в [обзоре сред](https://powerapps.microsoft.com/blog/powerapps-environments/).        |
|Системный администратор     |  Создание, чтение, запись, удаление, настройки, роли безопасности       | Имеет полный набор разрешений на настройку и администрирование среды, включая создание, изменение и назначение ролей безопасности. Может просматривать все данные в среде. Дополнительные сведения см. в статье [Привилегии, необходимые для настройки](https://docs.microsoft.com/dynamics365/customer-engagement/customize/privileges-required-customization).        |
|Настройщик системы     | Создание (собственные записи), чтение (собственные записи), запись (собственные записи), удаление (собственные записи), настройки         | Имеет полный набор разрешений на настройку среды. Однако может просматривать только те записи, которые связаны с созданными им самим сущностями среды. Дополнительные сведения см. в статье [Привилегии, необходимые для настройки](https://docs.microsoft.com/dynamics365/customer-engagement/customize/privileges-required-customization).        |
|Пользователь Common Data Service     |  Чтение, создание (собственные записи), запись (собственные записи), удаление (собственные записи)       | Может запускать приложение в среде и выполнять стандартные задачи с собственными записями.        |
|Делегат     | Действие от имени другого пользователя        | Позволяет выполнять код от имени другого пользователя или производить олицетворение.  Как правило, используется с другой ролью безопасности для обеспечения доступа к записям. Дополнительные сведения см. в статье [Олицетворение другого пользователя](https://docs.microsoft.com/dynamics365/customer-engagement/developer/org-service/impersonate-another-user).        |

* Привилегии имеют глобальную область действия, если не указано иное.

## <a name="next-steps"></a>Дальнейшие действия
[Краткое руководство: запуск приложения на основе модели на мобильном устройстве](../../user/run-app-client-model-driven.md)



