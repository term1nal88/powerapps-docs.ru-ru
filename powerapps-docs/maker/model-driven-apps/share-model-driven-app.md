---
title: Учебник по общему доступу к управляемому моделью приложению с помощью PowerApps | Microsoft Docs
description: 'В этом учебнике вы узнаете, как предоставить общий доступ к управляемому моделью приложению'
documentationcenter: ''
author: Mattp123
manager: kfile
editor: ''
tags: ''
ms.service: powerapps
ms.devlang: na
ms.topic: conceptual
ms.component: model
ms.date: 03/21/2018
ms.author: matp
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---

# <a name="tutorial-share-a-model-driven-app-with-powerapps"></a>Учебник. Общий доступ к управляемому моделью приложению с помощью PowerApps

Приложения [!INCLUDE [powerapps](../../includes/powerapps.md)] используют основанную на ролях систему безопасности для общего доступа. Основная концепция в основанной на ролях системе безопасности заключается в том, что роль безопасности включает права, определяющие набор действий, которые можно выполнять в приложении. Всем пользователям приложения следует назначить одну или несколько готовых или настраиваемых ролей. Роли могут также назначаться рабочим группам. Когда пользователь или рабочая группа назначена одной из этих ролей, пользователь или участники рабочей группы получают набор прав, связанный с этой ролью. 

В этом учебнике вы выполните задачи для предоставления общего доступа к приложению, управляемому моделью, чтобы другие могли использовать его. Узнайте следующие темы:
- Создание настраиваемой роли безопасности
- Назначения пользователям настраиваемой роли безопасности
- Назначение роли безопасности приложению

## <a name="prerequisites"></a>Необходимые условия
Для общего доступа к приложению необходима роль администратора среды [!INCLUDE [powerapps](../../includes/powerapps.md)] или администратора системы. 

## <a name="sign-in-to-powerapps"></a>Вход в PowerApps
Выполните вход в [PowerApps](https://powerapps.microsoft.com/). Если у вас еще нет учетной записи [!INCLUDE [powerapps](../../includes/powerapps.md)], выберите **Начать работу бесплатно** на сайте.

## <a name="share-an-app"></a>Совместное использование приложения 
В учебнике рассматривается компания Contoso, у которой имеется бизнес ухода за домашними животными, обслуживающий собак и кошек. Приложение, содержащее настраиваемую сущность для отслеживания бизнеса по уходу за домашними животными, уже было создано и опубликовано. Теперь следует предоставить общий доступ к приложению, чтобы персонал по уходу за домашними животными мог использовать его. Для общего доступа к приложению администратор или создатель приложения назначает одну или несколько ролей безопасности пользователям и приложению. 

## <a name="create-or-configure-a-security-role"></a>Создание или настройка роли безопасности
Среда [!INCLUDE [powerapps](../../includes/powerapps.md)] включает [набор предопределенных ролей безопасности](#about-predefined-security-roles), отражающий общие задачи с уровнями доступа, определенными в соответствии с целевой оптимальной методикой безопасности по предоставлению доступа к минимальному объему бизнес-данных, необходимых, чтобы использовать приложение. Помните, что приложение ухода за домашними животными Contoso основано в настраиваемой сущности. Поскольку сущность является настраиваемой, права необходимо явно установить, прежде чем пользователи смогут работать с ней. Чтобы сделать это, можно выполнить одно из следующих действий.
- Расширьте существующую заранее определенную роль безопасности, так, чтобы она включала привилегии для записей на основе настраиваемой сущности. 
- Создайте пользовательскую роль безопасности для целей управления правами пользователей приложения. 

Поскольку среда, которая будет поддерживать записи ухода за домашними животными, также используется для других приложений, используемых в бизнесе Contoso, будет создана настраиваемая роль безопасности, относящаяся к конкретному приложению по уходу за домашними животными. Кроме того, требуются два разных набора прав доступа.
- Технические специалисты по уходу за животными могут только читать, обновлять и добавлять другие записи, поэтому их роль безопасности будет иметь права чтения, записи и добавления. 
- Планировщикам ухода за домашними животными требуется иметь все права специалистов по уходу за животными, а также возможность создавать, дополнять, удалять и предоставлять общий доступ, поэтому их роль безопасности будет обладать разрешениями на создание, чтение, запись, добавление, удаление, назначение, добавление к и предоставление общего доступа.

Дополнительные сведения о разрешениях доступа и области действия см. в разделе [Роли безопасности](https://docs.microsoft.com/dynamics365/customer-engagement/admin/security-roles-privileges#security-roles).

## <a name="create-a-custom-security-role"></a>Создание настраиваемой роли безопасности
1. На сайте [!INCLUDE [powerapps](../../includes/powerapps.md)] выберите **Управляемые моделью** > **Приложения** > **…**> **Поделиться ссылкой**.
2. В диалоге **Поделиться этим приложение** в области **Создание роли безопасности** выберите **Параметры безопасности**.
3. На странице **Параметры** выберите **Создать**.  

4. Из конструктора роли безопасности выберите действия, например чтение, запись или удаление, и область для выполнения этого действия. Область определяет, как глубоко или высоко иерархии сред пользователь может выполнять определенное действие. В поле **Название роли** введите *Специалист по уходу за домашними животными*.
5. Выберите вкладку **Настраиваемые сущности**, затем найдите требуемую настраиваемую сущность. В этом примере используется настраиваемая сущность с названием **Домашнее животное**. 
6. В строке **Домашнее животное** выберите следующие права четыре раза, пока не будет выбрана глобальная область организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png): **чтение, запись, добавление**
> [!div class="mx-imgBorder"] 
> ![Новая роль безопасности](media/share-model-driven-app/custom-security-role.png)
7. Поскольку приложение ухода за домашними животными также имеет отношение с сущностью организации, выберите вкладку **Базовые записи** и в строке **Организация** выберите четыре раз **Чтение**, пока не будет выбрана глобальная область организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png). 
8. Выберите **Сохранить и закрыть**. 
9. В конструкторе роли безопасности в поле **Название роли** введите *Планировщик ухода за домашними животными*. 
10. Выберите вкладку **Настраиваемые сущности**, затем найдите настраиваемую сущность **Домашнее животное**. 
11. В строке **Домашнее животное** выберите следующие права четыре раза, пока не будет выбрана глобальная область организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png): **создание, чтение, запись, удаление, добавление к, добавление, общий доступ**
12. Поскольку приложение ухода за домашними животными также имеет отношение с сущностью организации и планировщики должны иметь возможность создавать и изменять записи организации, выберите вкладку **Базовые записи** и в строке **Организация** выберите четыре раза каждую из следующих привилегий, пока не будет выбрана глобальная область организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png). 
    **Создание, Чтение, Запись, Удаление, Добавление, Добавление к, Назначение, Общий доступ**
13. Выберите **Сохранить и закрыть**.

## <a name="assign-security-roles-to-users"></a>Назначение ролей безопасности пользователям
Роли безопасности определяют доступ пользователя к данным с помощью набора уровней доступа и разрешений. Сочетание уровней доступа и разрешений в определенной роли безопасности ограничивает доступ пользователя на просмотр данных и взаимодействие с ними.

### <a name="assign-a-security-role-to-pet-grooming-technicians"></a>Назначение роли безопасности специалистам по уходу за домашними животными
1. В диалоге **Поделиться этим приложение** в области **Назначить пользователей роли безопасности** выберите **Пользователи безопасности**.
2. В отображаемом списке выберите специалистов по уходу за животными.
3. Выберите **Управление ролями**.

    > [!div class="mx-imgBorder"] 
    > ![Управление ролями](media/share-model-driven-app/select-users-for-security-roles.png)

4. В диалоговом окне **Управление ролями пользователей** выберите ранее созданную роль безопасности **Специалисты по уходу за домашними животными**, затем выберите **ОК**.

### <a name="assign-a-security-role-to-pet-grooming-schedulers"></a>Назначение роли безопасности планировщикам ухода за домашними животными
1. В диалоге **Поделиться этим приложение** в области **Назначить пользователей роли безопасности** выберите **Пользователи безопасности**.
2. В отображаемом списке выберите планировщиков ухода за животными.
3. Выберите **Управление ролями**.
4. В диалоговом окне **Управление ролями пользователей** выберите ранее созданную роль безопасности **Планировщики ухода за домашними животными**, затем выберите **ОК**.


## <a name="add-security-roles-to-the-app"></a>Добавление ролей безопасности в приложение
Далее необходимо назначить приложению одну или несколько ролей безопасности. Пользователи будут иметь доступ к приложениям на основе назначенных им ролей безопасности.
1. В диалоговом окне **Поделиться этим приложением** в области **Добавить роль безопасности в приложение** выберите **Мои приложения**.
2. В правом нижнем углу плитки приложения ухода за домашними животными Contoso выберите **Дополнительно (...)**, затем выберите **Управление ролями**.

    ![Управление ролями для приложения](media/share-model-driven-app/manage-roles.png)

4. В разделе **Роли** можно выбрать, требуется ли предоставить доступ к приложению для всех ролей безопасности или выбранных ролей. Выберите ранее созданные роли **Планировщики ухода за домашними животными** и **Специалисты по уходу за домашними животными**.

    > [!div class="mx-imgBorder"] 
    > ![Выбор ролей безопасности для приложения](media/share-model-driven-app/app-security-roles.png)

5. Нажмите кнопку **Сохранить**.
 
## <a name="share-the-link-to-your-app"></a>Предоставление ссылки на приложение
1. В диалоговом окне **Поделиться этим приложением** в области **Поделиться ссылкой на приложение непосредственно с пользователями** скопируйте отображаемый URL-адрес.
 
2. Выберите **Закрыть**.
3. Вставьте URL-адрес приложения в местоположение, в котором ваши пользователи могут получить доступ к нему, например путем публикация его на сайте SharePoint, или отправьте по электронной почте.

> [!div class="mx-imgBorder"] 
> ![Поделиться ссылкой](media/share-model-driven-app/share-model-driven-URL.PNG)

Можно также найти URL-адрес приложения на вкладке **Свойства** в конструкторе приложения. 

> [!div class="mx-imgBorder"] 
> ![Скопировать URL-адрес приложения](media/share-model-driven-app/app-designer-copy-web-url.png)

## <a name="about-predefined-security-roles"></a>О стандартных ролях безопасности
Эти готовые роли доступны со средой [!INCLUDE [powerapps](../../includes/powerapps.md)].


|Роль безопасности  |*Привилегии  |Описание |
|---------|---------|---------|
|Создатель среды     |  Нет       | Можно создавать новые связанные со средой ресурсы, включая приложения, соединения, настраиваемые API, шлюзы и потоки с помощью Microsoft Flow. Однако нет никаких прав получения доступа к данным в среде. Дополнительные сведения: [Обзор сред](https://powerapps.microsoft.com/blog/powerapps-environments/)        |
|Системный администратор     |  Создание, чтение, запись, удаление, настройка, роли безопасности       | Имеет полное разрешение на настройку или управление средой, в том числе создание, изменение и назначение ролей безопасности. Может просматривать все данные в среде. Дополнительные сведения: [Разрешения, необходимые для выполнения настройки](https://docs.microsoft.com/dynamics365/customer-engagement/customize/privileges-required-customization)        |
|Настройщик системы     | Создание (свои), чтение (свои), запись (свои), удалении (свои), настройки         | Имеет полное разрешение для настройки среды. Однако может просматривать только записи для создаваемых им самим сущностей среды. Дополнительные сведения: [Разрешения, необходимые для выполнения настройки](https://docs.microsoft.com/dynamics365/customer-engagement/customize/privileges-required-customization)        |
|Пользователь Common Data Service     |  Чтение, создание (свои), запись (свои), удалении (свои)       | Можно запустить приложение в среде и выполнять общие задачи для записей, за которые он отвечает.        |
|Представитель     | Действовать от лица другого пользователя        | Позволяет коду выполняться как бы от лица другого пользователя или олицетворять.  Обычно используется с другой ролью безопасности для обеспечения доступа к записям. Дополнительные сведения: [Олицетворение другого пользователя](https://docs.microsoft.com/dynamics365/customer-engagement/developer/org-service/impersonate-another-user)        |

*Привилегия имеет глобальную область действия, если иное не указано явно.

## <a name="next-steps"></a>Дальнейшие действия
[Запуск приложения, управляемого моделью, на мобильном устройстве](../../user/run-app-client-model-driven.md)



