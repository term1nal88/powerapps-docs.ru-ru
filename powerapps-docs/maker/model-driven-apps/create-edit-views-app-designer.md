---
title: Создание и изменение общих или системных представлений управляемых моделью приложений с помощью конструктора приложений в PowerApps | MicrosoftDocs
description: 'Узнайте, как создавать или изменять представления с помощью конструктора приложений'
keywords: ''
ms.date: 05/24/2018
ms.service: crm-online
ms.custom: null
ms.topic: article
applies_to:
  - Dynamics 365 (online)
  - Dynamics 365 Version 9.x
  - powerapps
author: Mattp123
ms.assetid: 666ab3f3-abda-468c-b248-3a0b410286b0
ms.author: matp
manager: kvivek
ms.reviewer: null
ms.suite: null
ms.tgt_pltfrm: null
caps.latest.revision: 1
topic-status: Drafting
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---

# <a name="tutorial-create-and-edit-public-or-system-model-driven-app-views-by-using-the-app-designer"></a>Учебник. Создание и изменение общих или системных представлений управляемых моделью приложений с помощью конструктора приложений

В этом учебнике вы выполните несколько задач, необходимых для работы с представлениями, например создание общего представления, добавление существующего представления к приложению и изменение столбцов, фильтров и порядка сортировки для представления.

В PowerApps представления определяют отображение записей для конкретной сущности. Представление определяет следующее:
-  Отображаемые столбцы (атрибуты)
-  Ширина столбцов
-  Порядок сортировки записей по умолчанию
-  Какие фильтры применяются по умолчанию для определения отображаемых записей в списке

Как правило, представления классифицируются по трем типам:
- **Личное.** Отдельные пользователи могут создавать личные представления согласно своим личным требованиям. Эти представления отображаются только пользователю, создавшему их, и всем, кому этот пользователь предоставил доступ к этим представлениям. 
- **Общие.** Как создатель приложений, вы можете создавать и изменять общие представления в соответствии с требованиями организации. Эти представления отображаются в средстве выбора представлений, и их можно использовать во вложенных сетках в форме или в виде списка на панели мониторинга.
- **Системные.** Как создатель приложения, вы можете также изменять системные представления в соответствии с требованиями организации. Это специальные представления, от которых зависит приложение: они существуют для системных сущностей или автоматически создаются при создании настраиваемых сущностей. Такие представления доступны некоторым или всем пользователям, в зависимости от их разрешений.

Дополнительные сведения см. в разделе [Сведения о представлениях](create-edit-views.md)

## <a name="create-a-public-view-in-powerapps"></a>Создание общего представления в PowerApps
Как создатель приложения, вы можете создавать и изменять общие представления с помощью PowerApps.
1. На сайте [PowerApps](https://web.powerapps.com/?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc) выберите **Управляемые моделью** (в левой нижней части панели навигации).  

     ![Режим разработки, управляемый моделью](media/model-driven-switch.png)

    > [!IMPORTANT]
    > Если режим разработки **Управляемые моделью** недоступен, может потребоваться [создать среду](https://docs.microsoft.com/powerapps/administrator/create-environment).   
  
2.  Разверните **Данные**, выберите **Сущности**, выберите требуемую сущность, затем выберите вкладку **Представления**. 

3. На панели инструментов выберите **Добавить представление**. 

4. В диалоговом окне **Просмотреть свойства** введите имя и, при желании, описание, затем выберите **ОК**. 
    
5. В конструкторе представлений выберите **Добавить столбцы** для добавления дополнительных столбцов, которые требуются показывать в представлении. Дополнительные сведения: [Добавление столбца в представление](#add-a-column-to-your-view)
6. Выберите **Изменить условия фильтра** для изменения фильтров следующими способами: 
    -  Чтобы применить критерии фильтрации для уточнения данных, которые отображаются в представлении. Дополнительные сведения: [Определение критериев фильтра](#define-filter-criteria). 
    - Для объединения фильтров с помощью операторов **AND** или **OR** и дополнительного уточнения данных, отображаемых в представлении. Дополнительные сведения: [Объединение нескольких фильтров](#group-multiple-filters)
7. Выберите **Настроить сортировку**, чтобы изменить порядок данных, настроив основной и дополнительный порядки сортировки для столбцов. Дополнительные сведения: [Задание основного и дополнительного порядков сортировки столбцов](#set-primary-and-secondary-sort-order-for-columns)
8. (Необязательно) Задайте ширину столбца: 
  
    a. Выберите столбец. Откроется вкладка **Свойства**.
    
    b. Задайте в параметре **Ширина** требуемую ширину столбца.
    
    > [!NOTE]
    > Диапазон значений ширины столбца составляет от 25 до 300 пикселей.
9. (Необязательно) Измените порядок столбцов, перетащив столбец в требуемое положение. 

    Вы увидите визуальный индикатор, когда будете удерживать столбец над положением, в которое его можно переместить.

    ![Изменение порядка столбцов](media/ViewAppDesigner_ReorderColumn.png "Изменение порядка столбцов в представлении")

    > [!NOTE]
    > Можно также изменять порядок столбцов с помощью сочетаний клавиш на клавиатуре. Вырежьте столбец, выбрав Ctrl + X, выберите столбец, затем вставьте столбец, выбрав Ctrl + V. Столбец будет перемещен в положение справа от выбранного столбца.
10. (Необязательно) Прикрепите к столбцу значок или файл, чтобы отличать его от других столбцов во время выполнения. Дополнительные сведения: [Определение веб-ресурса](#define-a-web-resource)
11. **Сохраните и закройте** представление. 
12. Выберите **Опубликовать**, чтобы сделать представление доступным для других пользователей в организации. 
   

## <a name="open-and-add-a-view-in-the-app-designer"></a>Открытие и добавление представления в конструкторе приложений

Следующие шаги объясняют, как открыть и добавить представление в конструкторе приложений.
1. В обозревателе решений выберите **Приложения**, затем выберите приложение, которое хотите изменить, чтобы открыть его в конструкторе приложений. 

2. В разделе **Представление сущности** выберите **Представления**.

    В этом примере мы выбрали **Представления** из сущности **Организация**.

    ![Представление конструктора приложений](media/ViewAppDesigner_AccountAppDesignerView.png "Представление конструктора приложений для сущности \"Организация\"")

3. Для добавления представления выберите его с помощью типов представлений, таких как общее, расширенный поиск и постановка. Представление автоматически добавляется в список **Представления**.

    > [!NOTE]
    > Представления отображаются на основе сущности, которую вы выбрали. Например, если выбрана сущность **Организация**, отображаются представления, связанные с сущностью "Организация".

Дополнительные сведения по конструктору приложений: [Разработка настраиваемых бизнес-приложений с помощью конструктора приложений](design-custom-business-apps-using-app-designer.md)


## <a name="add-a-column-to-your-view"></a>Добавление столбца в представление
В представлении записи отображаются в таблице, содержащей строки и столбцы. Каждая строка представляет запись, а отображаемые поля записи определяются столбцами, добавленными в представление.

1. В конструкторе приложений на вкладке **Компоненты** выберите список **Атрибуты столбца** для **Основная сущность** или **Связанная сущность**.

    ![Добавление столбца](media/ViewAppDesigner_AddColumn.png "Добавление столбца в представление") 

2. В списке выберите требуемый атрибут и перетащите его к заголовку столбца. Можно также добавить атрибут, дважды щелкнув его.
3. Повторите шаг 2, пока не добавите все требующиеся атрибуты, которые требуется показывать в представлении.

По мере добавления атрибутов можно перетаскивать их в любое положение среди существующих заголовков столбцов. Можно также перетаскивать столбцы после их добавления в представление.


## <a name="define-filter-criteria"></a>Определение критериев фильтра
Можно задать условия фильтра, чтобы только подмножество записей отображалось в представлении. Если пользователь открывает представление, отображаются только записи, которые соответствуют определенным условиям фильтрации. Для фильтрации можно выбирать поля как в основном, так и в связанных представлениях.
1. В конструкторе приложений разверните раздел **Критерии фильтра**.
   
    ![Задание критериев фильтра](media/ViewAppDesigner_FilterCriteria.png "Задание критериев фильтра") 

2. Выберите **Добавить фильтр**.
3. Выберите атрибут из раскрывающегося списка в первом столбце. 
4. Выберите оператор из раскрывающегося списка во втором столбце.

    ![Задание оператора критериев фильтра](media/ViewAppDesigner_FilterCriteriaOption.png "Задание оператора критериев фильтра")

5. Введите значение, по которому требуется выполнять фильтрацию, в третьем столбце.

Можно выполнить фильтрацию данных на основе атрибутов связанных сущностей в дополнение к основной сущности. 

1. На вкладке **Компоненты** выберите список **Атрибуты столбца** для **Связанная сущность**, выберите значок со стрелкой вниз **Выберите сущность** в самом верхнем поле, затем выберите требуемую сущность.

    При этом будет добавлен отдельный раздел.

2. Повторите шаги со 2 по 5 из предыдущей процедуры.

Дополнительные сведения: [Создание и изменение отношений между сущностями](../common-data-service/create-edit-entity-relationships.md)

## <a name="group-multiple-filters"></a>Объединение нескольких фильтров
Можно добавить несколько фильтров в представление, если требуется фильтровать записи с помощью нескольких полей. 

1. Выберите фильтры, который необходимо сгруппировать.
    ![Задание группирования фильтров](media/ViewAppDesigner_GroupFilter.png "Задание группирования фильтров")
2. Выберите "Группировка И" или "Группировка ИЛИ" для группирования фильтров.
    ![Выбор группирования фильтров](media/ViewAppDesigner_GroupFilterSelection.png "Выбор группирования фильтров") Если выбран вариант **Группировка И**, в представлении отображаются только записи, которые соответствуют обоим критериям. Если выбран вариант **Группировка ИЛИ**, отображаются записи, отвечающие любому из указанных условий фильтра. Например, чтобы отобразить только записи с уровнем приоритета "Высокий" или "Обычный" и состоянием "Активна", выберите **Группировка И**.

Чтобы удалить фильтр из группы, выберите группу, затем выберите **Разгруппировать**. 

## <a name="set-primary-and-secondary-sort-order-for-columns"></a>Задание основного и дополнительного порядков сортировки для столбцов
При открытии представления отображаемые записи сортируются в порядке, заданном при создании представления.   По умолчанию записи сортируются в соответствии с первым столбцом в представлении, если порядок сортировки не выбран. Можно выбрать сортировку по одному столбцу или можно выбрать сортировку по двум столбцам — одному основному и одному дополнительному. При открытии представления записи сначала сортируются по столбцу, который требуется использовать для основной сортировки, а затем по столбцу, который будет использоваться для дополнительной сортировки. 

> [!NOTE]
> Можно задать основной и дополнительный порядки сортировки только для атрибутов столбцов, добавленных из основной сущности.

1. Выберите столбец, который требуется использовать для сортировки.
2. Выберите стрелку вниз, затем выберите **Основная сортировка** или **Дополнительная сортировка**.
 
    ![Сортировка записей](media/ViewAppDesigner_SortRecords.png "Сортировка записей на основе основного и дополнительного порядков сортировки") 

Если удалить столбец, выбранный для основного порядка сортировки, основным становится столбец, выбранный для дополнительного порядка сортировки.

## <a name="define-a-web-resource"></a>Определение веб-ресурса
Укажите веб-ресурс типа "скрипт", чтобы ассоциировать его со столбцом в представлении. Эти скрипты помогают отображать значки для столбцов.

1. Выберите столбец, в который требуется добавить веб-ресурс.
2. На вкладке **Свойства** выберите **Дополнительно**.
3. В раскрывающемся списке **Веб-ресурс** выберите требуемый веб-ресурс.
4. В поле **Имя функции** введите имя функции.

## <a name="edit-a-public-or-system-view"></a>Изменение общего или системного представления
Можно изменить способ отображения общего или системного представления, добавляя, настраивая или удаляя столбцы.
1. В списке **Представления** для сущности выберите стрелку вниз **Показать список ссылок** ![Раскрывающийся список](media/DownArrow.png "Стрелка раскрывающегося списка").
    ![Изменение представления](media/ViewAppDesigner_EditView.png "Изменение общего или системного представления")
2. Рядом с представлением, которое требуется изменить, выберите **Открыть конструктор представлений** ![Открыть конструктор представлений](media/dynamics365-open-designer.png "Открыть конструктор представлений"). 

    Представление открывается в конструкторе представлений. 

При изменении общего или системного представления необходимо сохранить и опубликовать изменения, чтобы они отображались в приложении.


## <a name="community-tools"></a>Средства сообщества
**View Layout Replicator** и **View Designer** — это средства, разработанные сообществом XrmToolbox для Dynamics 365 Customer Engagement.

Дополнительные сведения: [Средства для разработчиков](https://docs.microsoft.com/dynamics365/customer-engagement/developer/developer-tools).

> [!NOTE]
> Эти средства предоставляются сообществом XrmToolBox и не поддерживаются Майкрософт. При наличии вопросов по средству обращайтесь к его издателю. Дополнительные сведения: [XrmToolBox](https://www.xrmtoolbox.com/). 

### <a name="next-steps"></a>Дальнейшие действия
[Создание отношений 1: N (один-ко-многим) или N:1 (многие-к-одному)](../common-data-service/create-edit-1n-relationships.md)
