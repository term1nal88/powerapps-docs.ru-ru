---
title: Функции Now, Today и IsToday | Документация Майкрософт
description: Справочные сведения, включая описание синтаксиса и примеры, относительно функций Now, Today и IsToday в PowerApps
author: gregli-msft
manager: kvivek
ms.service: powerapps
ms.topic: reference
ms.custom: canvas
ms.reviewer: anneta
ms.date: 06/09/2018
ms.author: gregli
ms.openlocfilehash: 7b0b046c4c18f2f0bbbb8afd63a33aca2c46b340
ms.sourcegitcommit: dfa0e1a7981814e15e6ca4720e2a5f930e859db1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/13/2018
ms.locfileid: "39014312"
---
# <a name="now-today-and-istoday-functions-in-powerapps"></a>Функции Now, Today и IsToday в PowerApps
Возвращают текущие дату и время, а также проверяют, относится ли значение даты и времени к сегодняшнему дню.

## <a name="description"></a>Описание
Функция **Now** возвращает текущее значение даты и времени в формате даты и времени.

Функция **Today** возвращает текущее значение даты в формате даты и времени. В качестве времени в этом значении указывается полночь. Функция **Today** возвращает одно и то же значение в течение всех суток (с полуночи сегодняшнего до полуночи завтрашнего дня).

Функция **IsToday** проверяет, попадает ли заданное значение даты и времени в промежуток между полночью сегодняшнего и завтрашнего дня. Она возвращает логическое значение **true** или **false**.

Все эти функции работают с локальным временем текущего пользователя.

Подробнее см. статью о [работе с датами и временем](../show-text-dates-times.md).

## <a name="volatile-functions"></a>Переменные функции
**Now** и **Today** являются переменными функциями.  Возвращаемое число изменяется каждый раз при вычислении одной из этих функций.  

При использовании в формуле потока данных переменная функция возвращает другое значение только при повторном вычислении формулы, в которой она указывается.  Если в формуле нет никаких других изменений, она будет иметь одно и то же значение во время выполнения приложения.

Например, элемент управления "Метка" со значением **Label1.Text = Now()** не изменится в активном приложении.  Новое значение возвращается только после закрытия и повторного открытия приложения.

Если функция является частью формулы, в которой изменилось что-то еще, она будет вычислена повторно.  Например, если мы изменим пример и включим в него элемент управления "Ползунок" со значением **Label1.Text = DateAdd( Now(), Slider1.Value, Minutes )**, то при каждом изменении значения элемента управления "Ползунок" извлекается значение текущего времени и повторно вычисляется свойство Text элемента управления "Метка".

При использовании в [формуле поведения](../working-with-formulas-in-depth.md) переменные функции вычисляются каждый раз при вычислении этой формулы.  Пример см. ниже.

## <a name="syntax"></a>Синтаксис
**Now**()

**Today**()

**IsToday**(*дата_и_время*)

* *дата_и_время* — обязательный аргумент.  Значение даты и времени, которое нужно проверить.

## <a name="examples"></a>Примеры
В примерах в этом разделе используется значение даты и времени **12 февраля 2015 г.** **03:59** и язык **en-us**.

| Формула | Описание | Возвращаемый результат |
| --- | --- | --- |
| **Text(Now(), "dd.mm.yyyy hh:mm:ss")** |Получает текущее значение даты и времени и выводит его в виде строки. |"02/12/2015 03:59:00" |
| **Text(Today(), "dd.mm.yyyy hh:mm:ss")** |Получает только текущую дату (в качестве времени устанавливается полночь) и выводит его в виде строки. |"02/12/2015 00:00:00" |
| **IsToday(Now())** |Проверяет, попадает ли текущее значение даты и времени в промежуток между полночью сегодняшнего и завтрашнего дня. |**true** |
| **IsToday(Today())** |Проверяет, попадает ли текущая дата в промежуток между полночью сегодняшнего и завтрашнего дня. |**true** |
| **Text(DateAdd(Now(), 12), "dd.mm.yyyy hh:mm:ss")** |Получает текущее значение даты и времени, прибавляет к результату 12 дней и выводит его в виде строки. |"02/24/2015 03:59:00" |
| **Text(DateAdd(Today(), 12), "dd.mm.yyyy hh:mm:ss")** |Получает текущую дату, прибавляет к результату 12 дней и выводит его в виде строки. |"02/24/2015 00:00:00" |
| **IsToday(DateAdd(Now(), 12))** |Проверяет, попадает ли текущее значение даты и времени плюс 12 дней в промежуток между полночью сегодняшнего и полночью завтрашнего дня. |**false** |
| **IsToday(DateAdd(Today(), 12))** |Проверяет, попадает ли текущее значение даты плюс 12 дней в промежуток между полночью сегодняшнего и полночью завтрашнего дня. |**false** |

#### <a name="display-a-clock-that-updates-in-real-time"></a>Отображение часов, обновляющихся в режиме реального времени

1. Добавьте элемент управления **[Таймер](../controls/control-timer.md)**, задайте его свойству **Duration** значение **1000**, а свойству **Repeat** — значение **true**.

    Таймер будет работать в течение одной секунды, автоматически перезапустится и будет работать по этой схеме. 

1. Задайте для свойства **OnTimerEnd** элемента управления следующую формулу в качестве значения.

    **Set( CurrentTime, Now() )**

    При каждом повторном запуске таймера (через каждую секунду) эта формула задает глобальной переменной **CurrentTime** текущее значение функции **Now**.

    ![Экран, отображающий элемент управления "Таймер" с формулой OnTimerEnd = Set(CurrentTime, Now())](media/function-now-today-istoday/now-set-currenttime.png)

1. Добавьте элемент управления **[Метка](../controls/control-text-box.md)** и задайте в качестве значения свойства **Text** следующую формулу.

    **Text( CurrentTime, LongTime24 )**

    С помощью функции **[Text](function-text.md)** отформатируйте дату и время, как вам нужно, или задайте этому свойству значение **CurrentTime** для отображения часов и минут, но не секунд.

    ![Экран с отображением элемента управления "Метка" со свойством Text, имеющим значение Text( CurrentTime, LongTime24)](media/function-now-today-istoday/now-use-currenttime.png)

1. Просмотрите приложение, нажав клавишу F5, а затем запустите таймер, щелкнув или коснувшись его.

    Элемент управления "Метка"постоянно показывает текущее время вплоть до секунды.

    ![Четыре экрана, отображающие четыре значения времени (13:50:22, 13:50:45, 13:51:03 и 13:51:25)](media/function-now-today-istoday/now-four-times.png)

1. Задайте свойству **AutoStart** таймера значение **true**, а свойству **Visible** — значение **false**.

    Таймер становится невидимым и запускается автоматически.

1. Задайте свойство **[OnStart](../controls/control-screen.md)** экрана таким образом, чтобы переменная **CurrentTime** имела допустимое значение, как показано в этом примере:

    **Set(CurrentTime, Now())**

    Метка отображается сразу после запуска приложения (до того, как таймер проработает целую секунду).
