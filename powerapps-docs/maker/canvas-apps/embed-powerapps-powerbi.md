---
title: Внедрение нового приложения на основе холста в отчет Power BI | Документы Майкрософт
description: Внедрение нового приложения на основе холста, которое использует тот же источник данных и поддерживает те же возможности фильтрации, что и другие элементы отчетов
author: mgblythe
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: ''
ms.date: 03/15/2018
ms.author: mblythe
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 046bd1c56a7c27068c4d52cbc0bd28b1bb800ede
ms.sourcegitcommit: 429b83aaa5a91d5868e1fbc169bed1bac0c709ea
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/24/2018
ms.locfileid: "42853666"
---
# <a name="embed-a-new-canvas-app-in-a-power-bi-report"></a>Внедрение нового приложения на основе холста в отчет Power BI

Возможности Power BI можно расширять, добавляя в отчет *пользовательские визуальные элементы*. В этом руководстве вы создадите приложение на основе холста, внедряемое в пример отчета, используя настраиваемый визуальный элемент PowerApps. Это приложение взаимодействует с другими элементами отчета.

Если у вас нет подписки на PowerApps, перед началом работы [создайте бесплатную учетную запись](../signup-for-powerapps.md).

Из этого руководства вы узнаете, как выполнять такие задачи:
> [!div class="checklist"]
> * Импорт пользовательского визуального элемента PowerApps в отчет Power BI
> * Создание приложения, в котором используются данные из отчета
> * Просмотр приложения в отчете

## <a name="prerequisites"></a>Технические условия

* Браузер [Google Chrome](https://www.google.com/chrome/browser/) или [Microsoft Edge](https://www.microsoft.com/windows/microsoft-edge)
* [Подписка на Power BI](https://docs.microsoft.com/power-bi/service-self-service-signup-for-power-bi) с установленным [примером "Анализ возможностей"](https://docs.microsoft.com/power-bi/sample-opportunity-analysis#get-the-content-pack-for-this-sample)
* Умение [создавать приложения в PowerApps](data-platform-create-app-scratch.md) и [изменять отчеты Power BI](https://docs.microsoft.com/power-bi/service-the-report-editor-take-a-tour)

## <a name="import-the-powerapps-custom-visual"></a>Импорт пользовательского визуального элемента PowerApps

Сначала необходимо импортировать пользовательский визуальный элемент PowerApps, чтобы его можно было использовать в примере отчета.

1. В отчете "Анализ возможностей — пример" перейдите на вкладку **Upcoming Opportunities** (Предстоящие возможные сделки).

2. В верхней части отчета нажмите **Изменить отчет**.

3. В области **Визуализации** нажмите многоточие (**...**) и выберите пункт **Импорт из магазина**. 

    ![Импорт из магазина](media/embed-powerapps-powerbi/import-visual.png)

4. На экране **Визуальные элементы Power BI** выполните поиск по запросу "PowerApps", а затем нажмите **Добавить**. Power BI добавит значок пользовательского визуального элемента в нижнюю часть области **Визуализации**.

    ![Значок визуального элемента PowerApps](media/embed-powerapps-powerbi/powerapps-icon.png)

5. Сохраните отчет.

## <a name="create-a-new-app"></a>Создание приложения
Теперь необходимо добавить пользовательский визуальный элемент в отчет и создать приложение на основе данных в отчете. При создании приложения запускается PowerApps Studio с активным подключением данных между PowerApps и Power BI.

1. Переместите и измените размеры некоторых плиток в отчете, чтобы освободить место для приложения.

    ![Перемещение и изменение размеров плиток в отчете](media/embed-powerapps-powerbi/move-resize.png)

2. Нажмите значок пользовательского визуального элемента PowerApps, а затем измените размер плитки в соответствии со свободным местом.

3. В области **Поля** выберите **Name** (Название), **Product Code** (Код продукта) и **Sales Stage** (Этап продаж). 

    ![Выбор полей](media/embed-powerapps-powerbi/select-fields.png)

4. На плитке пользовательского визуального элемента выберите среду PowerApps, в которой нужно создать приложение, а затем нажмите **Создать**.

    ![Создание приложения](media/embed-powerapps-powerbi/create-new-app.png)

    В PowerApps Studio вы увидите созданное базовое приложение с *коллекцией*, в которой отображается одно из полей, выбранных в Power BI.

5.  Измените размер коллекции так, чтобы она занимала только половину экрана. 

6. В левой области выберите элемент **Screen1**, а затем задайте для свойства **Fill** окна значение LightBlue (чтобы окно было лучше видно в отчете).

    ![Приложение с измененным размером коллекции](media/embed-powerapps-powerbi/app-gallery.png)

6. Добавьте под коллекцией элемент управления "Метка" со свойством **Text**, имеющим значение `"Opportunity Count: " & CountRows(Gallery1.AllItems)`. Теперь отображается общее число возможных сделок в наборе данных.

    ![Число возможных сделок](media/embed-powerapps-powerbi/opportunity-count.png)

7. Сохраните приложение с именем "Возможные сделки". 


## <a name="view-the-app-in-the-report"></a>Просмотр приложения в отчете
Теперь приложение доступно в отчете. Оно взаимодействует с другими визуальными элементами, так как у них общий источник данных.

В отчете Power BI выберите на срезе пункт **Jan** (Янв). В результате будет отфильтрован весь отчет, включая данные в приложении.

![Отфильтрованный отчет](media/embed-powerapps-powerbi/filtered-report.png)

Обратите внимание на то, что число возможных сделок в приложении совпадает с числом в левом верхнем углу отчета. Вы можете выбирать другие элементы в отчете, и данные в приложении будут обновляться.


## <a name="clean-up-resources"></a>Очистка ресурсов
Если пример "Анализ возможностей" больше не нужен, можно удалить панель мониторинга, отчет и набор данных.


## <a name="next-steps"></a>Дальнейшие действия
Из этого руководства вы узнали, как выполнять такие задачи:
> [!div class="checklist"]
> * Импорт пользовательского визуального элемента PowerApps в отчет Power BI
> * Создание приложения, в котором используются данные из отчета
> * Просмотр приложения в отчете

Чтобы узнать больше, перейдите к следующей статье:
> [!div class="nextstepaction"]
> [Пользовательский визуальный элемент PowerApps для Power BI](powerapps-custom-visual.md)

