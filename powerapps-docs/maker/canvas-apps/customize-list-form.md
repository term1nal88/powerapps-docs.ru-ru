---
title: Настройка формы списка SharePoint | Документация Майкрософт
description: Используйте PowerApps, чтобы настроить форму, с помощью которой пользователи будут создавать и обновлять записи в списке SharePoint.
author: AFTOwen
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: ''
ms.date: 06/11/2018
ms.author: anneta
ms.openlocfilehash: 3e552d9338c457ba6076e0f34c91311e54d0c18d
ms.sourcegitcommit: dfa0e1a7981814e15e6ca4720e2a5f930e859db1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/13/2018
ms.locfileid: "39019142"
---
# <a name="customize-a-sharepoint-list-form-by-using-powerapps"></a>Настройка формы списка SharePoint с помощью PowerApps

Вы можете легко настроить форму для списка SharePoint, открыв PowerApps в браузере. Вам не нужно писать традиционный код, например C#, или загружать другое приложение, например InfoPath. При публикации изменений форма встроена в список SharePoint — ее могут использовать все его пользователи. В PowerApps вы также можете просматривать аналитические отчеты, легко создавать условное форматирование и подключаться к другим источникам данных.

Выполняя действия, описанные в этом разделе, вы создадите простой список, чтобы увидеть, как работает функция настройки, а затем применить те же принципы к своему списку.

> [!NOTE]
> Если функция **Настроить формы** недоступна или работает неправильно, возможно, она содержит типы данных, [не поддерживаемые в PowerApps](connections/connection-sharepoint-online.md#known-issues). Кроме того, невозможно переместить форму в другой список или [среду](working-with-environments.md).

## <a name="prerequisites"></a>Технические условия

На сайте SharePoint создайте список, содержащий следующие столбцы:

- **Название продукта** (одна строка текста)
- **Сведения** (да/нет)
- **Цена** (валюта)
- **Наличие** (дата без времени)
- **Цвет** (выбор)

## <a name="open-the-form-in-powerapps"></a>Откройте форму в PowerApps

1. Откройте созданный список и нажмите **Создать** на панели команд.

    Форма откроется с полями, которые вы добавили, а также полями **Заголовок** и **Вложения**.

1. В верхней части формы выберите **Настроить**.

    В той же вкладке браузера откроется PowerApps Studio.

1. Если отобразится диалоговое окно **Вас приветствует PowerApps Studio**, выберите **Пропустить**.

## <a name="hide-extra-fields"></a>Скройте дополнительные поля

В центре экрана PowerApps отображает вашу форму, но она содержит некоторые поля, которые не обязательно отображать.

- На панели **Данные** снимите флажки для этих полей.

  - **Title;**
  - **Изменено**
  - **Создано**
  - **Кем создано**
  - **Кем изменено**
  - **Идентификатор**

    Эти поля будут скрыты, и будут отображаться только созданные вами поля.

    ![Список полей](./media/customize-list-form/field-list.png)

## <a name="set-conditional-formatting"></a>Настройте условное форматирование

Вы можете настроить, чтобы поля **Цена**, **Наличие** и **Цвета** отображались только в случае, если для поля **Сведения** задано значение "Да".

1. Нажмите на карточку **Цена** один раз, чтобы выбрать ее.

    ![Выберите карточку "Наличие".](./media/customize-list-form/select-card.png)

1. В списке свойств выберите **Видимый**.

    ![Выберите свойство "Видимый".](./media/customize-list-form/select-property.png)

1. В строке формул введите или вставьте следующую формулу:

    **If(DataCardValue3.Value = true, true)**

    ![Задайте значение для свойства "Видимый"](./media/customize-list-form/build-formula.png)

1. Повторите три последних действия с карточками **Наличие** и **Цвет**.

1. Удерживая нажатой клавишу ALT, несколько раз нажмите на переключатель **Сведения**.

    Три настроенных поля будут появляться в форме и исчезать из нее.

1. (Необязательно) Выберите другие настройки для формы, в том числе:

    - Измените ее размер и ориентацию (например, чтобы [расширить форму](set-aspect-ratio-portrait-landscape.md)).
    - Добавьте элемент управления, чтобы пользователи могли [загружать вложения](controls/properties-text.md).
    - Создайте [поле подстановки](sharepoint-lookup-fields.md).

## <a name="save-publish-and-show-the-form"></a>Сохраните, опубликуйте и отобразите форму

1. Откройте меню **Файл**, нажмите **Сохранить**, а затем дважды нажмите **Опубликовать в SharePoint**.

1. В левом верхнем углу нажмите на стрелку "Назад" и выберите **Вернуться в SharePoint**.

1. На панели команд выберите **Создать**, чтобы открыть настроенную форму.

1. Несколько раз нажмите на переключатель **Сведения**, чтобы скрыть и показать последние три поля.

Чтобы [дальше настраивать форму](sharepoint-form-integration.md), откройте ее, выберите **Настроить** в верхней части формы, внесите изменения, а затем сохраните и опубликуйте их.

## <a name="use-the-default-form"></a>Используйте форму по умолчанию

1. В списке в SharePoint откройте страницу параметров (нажав на значок шестеренки в правом верхнем углу), а затем выберите **Параметры списка**.

2. В разделе **Общие параметры** выберите **Параметры формы**.

3. На странице **Параметры формы** выберите один из следующих вариантов и нажмите **OK**.

    - **Использовать форму SharePoint по умолчанию** — когда пользователь открывает список и на панели команд выбирает **Создать**, открывается форма по умолчанию для списка.

    - **Использовать настраиваемую форму, созданную в PowerApps,**  — когда пользователь открывает список и на панели команд выбирает **Создать**, открывается пользовательская форма. (В качестве альтернативы вы можете еще раз опубликовать форму в PowerApps.)

    Вы можете свободно переключаться между этими двумя параметрами.

    ![Параметры на странице "Параметры формы"](./media/customize-list-form/form-settings.png)

## <a name="delete-the-custom-form"></a>Кнопка "Удалить настраиваемую форму"

1. В списке в SharePoint откройте страницу параметров (нажав на значок шестеренки в правом верхнем углу), а затем выберите **Параметры списка**.

1. В разделе **Общие параметры** выберите **Параметры формы**.

1. На странице **Параметры формы** выберите **Использовать форму SharePoint по умолчанию**, а затем выберите **Удалить настраиваемую форму**.

    ![Кнопка "Удалить настраиваемую форму"](./media/customize-list-form/use-default-sharepoint.png)

## <a name="q--a"></a>Контроль качества

### <a name="forms-vs-apps"></a>Формы и приложения

**Вопрос.** Чем настраиваемая форма отличается от отдельного приложения, создаваемого в SharePoint или PowerApps?

**Ответ.** Если вы настраиваете форму для списка SharePoint, эта форма не отображается в виде приложения в PowerApps Studio или PowerApps Mobile. Вы можете открыть форму только из списка, для которого создали ее.

**Вопрос.** Когда следует настроить форму для управления данными в списке SharePoint, а когда следует создать отдельное приложение?

**Ответ.** Настройте форму, если хотите, чтобы пользователи управляли данными, не выходя из SharePoint (например, в классическом браузере). Создайте приложение, если пользователи должны управлять данными за пределами SharePoint (например, на мобильном устройстве).

**Вопрос.** Можно ли настроить форму и создать приложение для одного списка?

**Ответ.** Да.

**Вопрос.** Можно ли настроить список и создать приложение с одинаковыми возможностями?

**Ответ.** Да.

**Вопрос.** Можно ли настроить форму в среде, отличной от используемой по умолчанию в моей организации?

**Ответ.** Нет.

### <a name="manage-your-custom-form"></a>Управление настраиваемой формой

**Вопрос.** Как предоставить общий доступ к моей форме?

**Ответ.** Откройте форму, нажмите **Копировать ссылку**, а затем отправьте ссылку любому пользователю.

**Вопрос.** Можно ли обновлять форму так, чтобы мои изменения не видели другие пользователи?

**Ответ.** Да. Вы можете вносить изменения в форму и сохранять ее столько раз, сколько необходимо. Изменения не будут видны другим пользователям, пока вы дважды не нажмете **Опубликовать в SharePoint**.

**Вопрос.** Если при настройке формы будет допущена ошибка, можно ли вернуться к предыдущей версии?

**Ответ.** Да.

1. Откройте список, выберите **PowerApps** на панели команд, а затем нажмите **Настроить формы**.

1. В PowerApps Studio нажмите **Файл** и выберите **Просмотреть все версии**. В новой вкладке браузера откроется страница **Версии**.

    > [!NOTE]
    > Если кнопка **Просмотреть все версии** не отображается, нажмите **Сохранить**. Кнопка должна появиться.

1. Не закрывая страницу **Версии** или вкладку браузера, вернитесь на страницу **Сохранить** в другой вкладке браузера, щелкните стрелку в верхней части левой панели навигации и нажмите кнопку **Вернуться в SharePoint**, чтобы разблокировать форму и закрыть PowerApps Studio.

1. Вернитесь на страницу **Версии** в другой вкладке браузера, найдите версию, которую требуется восстановить, и нажмите кнопку **Восстановить**.

    > [!NOTE]
    > Если вы получите сообщение об ошибке выполнения восстановления из-за того, что форма заблокирована другим пользователем, подождите, пока этот пользователь разблокирует форму, а затем повторите попытку.

**Вопрос.** Можно ли перемещать форму из одного списка в другой?

**Ответ.** Нет.

### <a name="administer-your-custom-form"></a>Администрирование настраиваемой формы

**Вопрос.** Как предоставить общий доступ к моей форме?

**Ответ.** Не нужно предоставлять общий доступ к форме. Форма наследует разрешения от списка SharePoint. Завершив настройку, просто [опубликуйте форму в SharePoint](customize-list-form.md#save-and-publish-the-list-form-back-to-sharepoint), чтобы ее могли использовать другие пользователи.

**Вопрос.** Кто может настраивать формы?

**Ответ.** Любой пользователь с разрешениями SharePoint на администрирование, создание или изменение связанного списка.

**Вопрос.** Требуется ли лицензия на PowerApps, чтобы создавать или использовать настраиваемые формы списков?

**Ответ.** Вам нужен [план Office 365, который включает PowerApps](../../administrator/pricing-billing-skus.md#licenses).

**Вопрос.** Что происходит, когда пользователи-гости получают доступ к списку, для которого создана настраиваемая форма?

**Ответ.** Пользователи-гости получают сообщение об ошибке, если они пытаются получить доступ к форме списка, настроенной с помощью PowerApps.

**Вопрос.** Как администратору получить список всех настроенных форм в своей организации?

**Ответ.** Если вы являетесь администратором клиента для PowerApps или у вас есть права администратора среды в среде PowerApps, используемой в организации по умолчанию, сделайте следующее:

1. В [центре администрирования PowerApps](https://admin.powerapps.com) в списке сред выберите среду для организации по умолчанию.

1. В верхней части страницы среды по умолчанию выберите **Ресурсы**.

1. В списке приложений выполните поиск приложений по типу **форма SharePoint**. Это и есть настраиваемые формы.

    ![Список настраиваемых форм](./media/customize-list-form/all-customized-forms.png)
