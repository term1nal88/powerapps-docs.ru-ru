---
title: Поведение и формат поля "Дата и время" в Common Data Service for Apps | Документы Майкрософт
ms.custom: ''
ms.date: 05/25/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
author: Mattp123
ms.assetid: 73d691c7-344e-4c96-8979-c661c290bf81
caps.latest.revision: 47
ms.author: matp
manager: kvivek
ms.openlocfilehash: 2f62f2433fe959e3713df544628db186b801731e
ms.sourcegitcommit: aba996b1773ecdf62758e06b34eaf57bede29e08
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/08/2018
ms.locfileid: "39704592"
---
# <a name="behavior-and-format-of-the-date-and-time-field"></a>Поведение и формат поля "Дата и время"

В Common Data Service for Apps тип данных "Дата и время" используется во многих полях стандартных сущностей. В зависимости от типа данных, которые представляет поле, вы можете выбрать различные варианты поведения для поля: **Локальное время пользователя**, **Только дата** или **Независимо от часового пояса**.  
  
<a name="Behavior"></a>   

## <a name="date-and-time-field-behavior-and-format"></a>Поведение и формат поля "Дата и время"  

Следующая таблица содержит сведения о поведении и формате поля "Дата и время".  
  
|Поведение|Формат|Описание|  
|--------------|------------|-------------------------------|  
|**Локальное время пользователя** |**Только дата**<br />-или-<br />**Дата и время**|Это поведение по умолчанию для пользовательских полей даты и времени.<br /><br />Значения полей соответствуют локальному времени текущего пользователя.<br />В веб-службах эти значения возвращаются с помощью общего формата часового пояса UTC.<br /><br />Это можно изменить один раз, если выбрать поведение по умолчанию. Дополнительные сведения см. в разделе [Изменение локального поведения пользователя](#change-user-local-behavior).|  
|**Только дата**|**Только дата**|Преобразование часового пояса не выполняется.<br /><br />Время всегда равно 12:00 AM.<br />Значение даты сохраняется и извлекается, как указано в пользовательском интерфейсе и веб-службах.|  
|**Независимо от часового пояса**|**Только дата**<br />-или-<br />**Дата и время**|Преобразование часового пояса не выполняется.<br /><br />Значения даты и времени сохраняются и извлекаются, как указано в пользовательском интерфейсе и веб-службах.|  

## <a name="change-user-local-behavior"></a>Изменение локального поведения пользователя:

Если издатель управляемого решения не позволяет это сделать, вы можете изменить поведение существующих пользовательских полей даты с **Локальное время пользователя** на **Только дата** или **Независимо от часового пояса**. Это изменение можно выполнить один раз.

Изменение поведения поля влияет на значения поля, которые добавляются или изменяются после того, как поведение поля было изменено. Существующие значения полей сохраняются в базе данных в формате часового пояса UTC. Чтобы изменить поведение существующих значений полей с UTC на "Только дата", может потребоваться помощь разработчика, который сделает это программным способом. Дополнительные сведения см. в разделе [Преобразование поведения существующих значений даты и времени в базе данных](/dynamics365/customer-engagement/developer/behavior-format-date-time-attribute#convert-behavior-of-existing-date-and-time-values-in-the-database). 

> [!WARNING]
> Прежде чем изменять поведение существующего поля даты и времени, необходимо изучить все зависимости поля, такие как бизнес-правила, рабочие процессы, вычисляемые поля или поля свертки, чтобы убедиться в отсутствии проблем в результате изменения поведения. После изменения поведения поля даты и времени необходимо открыть каждую зависимость для измененного поля (бизнес-правило, рабочий процесс, вычисляемое поле и поле свертки), изучить информацию и сохранить ее, чтобы убедиться, что используются последний выбранный вариант поведения и значение для поля даты и времени. 

### <a name="change-behavior-during-a-solution-import"></a>Изменение поведения во время импорта решения

При импорте решения, содержащего поле даты с вариантом поведения **Локальное время пользователя**, вы можете изменить поведение поля на **Только дата** или **Независимо от часового пояса**.  

### <a name="prevent-changing-behavior"></a>Запрет изменения поведения

Если вы хотите распространить пользовательское поле даты в управляемое решение, можно запретить пользователям вашего решения изменять поведение этого поля. Для этого необходимо установить значение **False** для параметра **CanChangeDateTimeBehavior**. Дополнительные сведения см. в разделе [Управляемые свойства поля](set-managed-properties-metadata.md#field-managed-properties).
  
## <a name="use-cases"></a>Примеры использования

Рассмотрите следующие варианты использования для поведения **Только дата** и **Независимо от часового пояса**.

### <a name="date-only-scenario-birthdays-and-anniversaries"></a>Сценарий для поведения "Только дата": дни рождения и годовщины

Поведение "Только дата" хорошо подходит для случаев, когда сведения о времени дня и часовом поясе не требуются, например для дней рождения или годовщин. Если выбран этот параметр, все пользователи приложения по всему миру увидят одно и то же значение даты.  
  
### <a name="time-zone-independent-scenario-hotel-check-in"></a>Сценарий для поведения "Независимо от часового пояса": регистрация в гостинице

Это поведение можно использовать, когда сведения о часовом поясе не требуются, например для указания времени регистрации в гостинице. Если выбран этот параметр, все пользователи приложения по всему миру увидят одни и те же значения даты и времени.  


## <a name="date-and-time-query-operators-not-supported-for-date-only-behavior"></a>Операторы запросов даты и времени не поддерживаются для варианта поведения "Только дата"  

Следующие операторы запросов, связанные с датой и временем, являются недопустимыми для варианта поведения **Только дата**. При попытке использования одного из этих операторов в запросе выдается исключение, говорящее о том, что используется недопустимый оператор.  
  
- Старше X мин  
- Старше X ч  
- Последние X ч  
- Следующие X ч  

  
### <a name="see-also"></a>См. также

[Создание и изменение полей](create-edit-fields.md)<br />
[Определение вычисляемых полей для автоматизации вычислений вручную](define-calculated-fields.md)<br />
[Управляемые свойства поля](set-managed-properties-metadata.md#field-managed-properties)<br />
[Управляемые свойства](solutions-overview.md#managed-properties)

