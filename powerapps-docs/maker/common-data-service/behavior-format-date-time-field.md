---
title: Поведение и формат поля "Дата и время" в Common Data Service для приложений | MicrosoftDocs
ms.custom: ''
ms.date: 05/25/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
  - Dynamics 365 (online)
  - Dynamics 365 Version 9.x
  - powerapps
author: Mattp123
ms.assetid: 73d691c7-344e-4c96-8979-c661c290bf81
caps.latest.revision: 47
ms.author: matp
manager: kvivek
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---
# <a name="behavior-and-format-of-the-date-and-time-field"></a>Поведение и формат поля "Дата и время"

В Common Data Service для приложений тип данных "Дата и время" используется во многих стандартных полях сущностей. В зависимости от типа даты, который представляет поле, можно выбрать различные поведения поля: **Часовой пояс пользователя**, **Только дата** или **Независимо от часового пояса**.  
  
<a name="Behavior"></a>   

## <a name="date-and-time-field-behavior-and-format"></a>Поведение и формат поля "Дата и время"  

В следующей таблице приведены сведения о поведении и формате поля "Дата и время".  
  
|Поведение|Формат|Описание|  
|--------------|------------|-------------------------------|  
|**Часовой пояс пользователя** |**Только дата**<br />- или -<br />**Дата и время**|Это поведение по умолчанию для настраиваемых полей даты и времени.<br /><br />Значения полей отображаются по местному времени текущего пользователя.<br />В веб-службах эти значения возвращаются в общем формате часового пояса UTC.<br /><br />Это можно изменить, если выбрать поведение по умолчанию. Дополнительные сведения: [Изменение поведения часового пояса пользователя](#change-user-local-behavior)|  
|**Только дата**|**Только дата**|Без преобразования часового пояса.<br /><br />Часть "время" в значении всегда равна 12:00.<br />Часть "дата" значения хранится и извлекается так, как указано в пользовательском интерфейсе и в веб-службах.|  
|**Независимо от часового пояса**|**Только дата**<br />- или -<br />**Дата и время**|Без преобразования часового пояса.<br /><br />Значения даты и времени хранятся и извлекаются так, как указано в пользовательском интерфейсе и в веб-службах.|  

## <a name="change-user-local-behavior"></a>Измените поведение часового пояса пользователя:

Если только издатель управляемого решения не запрещает это, вы можете изменить поведение существующих настраиваемых полей "Дата" с **Часовой пояс пользователя** на **Только дата** или **Независимо от часового пояса**. Это разовое изменение.

Изменение поведение поля влияет на значения полей, добавляемые или изменяемые после изменения поведения. Существующие значения полей остаются в базе данных в формате UTC. Чтобы изменить поведение существующих значений полей с UTC на "Только дата", может понадобиться прибегнуть к помощи разработчика для программной реализации этого изменения. Дополнительные сведения: [Преобразование поведения существующих значений даты и времени в базе данных](/dynamics365/customer-engagement/developer/behavior-format-date-time-attribute#convert-behavior-of-existing-date-and-time-values-in-the-database). 

> [!WARNING]
> Прежде чем изменять поведение существующего поля "Дата и время", необходимо проверить все зависимости поля, такие как бизнес-правила, бизнес-процессы, вычисляемые поля или поля свертки, чтобы убедиться в том, что изменение поведения не приведет к возникновению проблем. После изменения поведения поля "Дата и время" необходимо открыть каждое бизнес-правило, бизнес-процесс, вычисляемое поле и поле свертки, зависящее от измененного поля, проверить информацию и сохранить его, чтобы зависимое поле отражало новое поведение и значение поля "Дата и время". 

### <a name="change-behavior-during-a-solution-import"></a>Изменение поведения при импорте решения

При импорте решения, содержащего поле "Данные", с помощью поведения **Часовой пояс пользователя**, вы можете изменить поведение на **Только дата** или **Независимо от часового пояса**.  

### <a name="prevent-changing-behavior"></a>Предотвращение изменения поведения

При распространении настраиваемого поля даты в управляемом решении можно запретить пользователям решения изменять поведение, задав для управляемого свойства **CanChangeDateTimeBehavior** значение **False**. Дополнительные сведения: [Управляемые свойства полей](set-managed-properties-metadata.md#field-managed-properties)
  
## <a name="use-cases"></a>Случаи использования

Рассмотрите возможность следующих случаев использования поведений **Только дата** и **Независимо от часового пояса**.

### <a name="date-only-scenario-birthdays-and-anniversaries"></a>Сценарий "Только дата": дни рождения и годовщины

Поведением "Только дата" удобно пользоваться в случаях, когда информация о времени и часовом поясе не нужна, — например, для дней рождения или годовщин. При этом поведении все пользователи приложения по всему миру будут видеть в точности одно и то же значение даты.  
  
### <a name="time-zone-independent-scenario-hotel-check-in"></a>Сценарий "Независимо от часового пояса": заселение в гостиницу

Это поведение можно использовать, когда информация о часовом поясе не нужна, — например, для указания времени заселения в гостиницу. При этом поведении все пользователи приложения по всему миру будут видеть в точности одно и то же значение даты и времени.  


## <a name="date-and-time-query-operators-not-supported-for-date-only-behavior"></a>Операторы запроса даты и времени, не поддерживаемые для поведения "Только дата"  

Следующие операторы, связанные с запросами даты и времени, не работают для поведения **Только дата**. При использовании в запросе одного из этих операторов создается ошибка с исключением "недействительный оператор".  
  
- Старше X минут  
- Старше X часов  
- Последние X часов  
- Следующие X часов  

  
### <a name="see-also"></a>См. также

[Создание и изменение полей](create-edit-fields.md)<br />
[Определение вычисляемых полей для автоматизации ручных расчетов](define-calculated-fields.md)<br />
[Управляемые свойства полей](set-managed-properties-metadata.md#field-managed-properties)<br />
[Управляемые свойства](solutions-overview.md#managed-properties)

