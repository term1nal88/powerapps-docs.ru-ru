---
title: Определение переходов причины состояния с помощью PowerApps | MicrosoftDocs
description: 'Узнайте, как определять переходы причин состояния'
ms.custom: ''
ms.date: 05/25/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
  - Dynamics 365 (online)
  - Dynamics 365 Version 9.x
  - powerapps
author: Mattp123
ms.assetid: dbc4f436-0b23-42f9-8079-b0de482aaebe
caps.latest.revision: 11
ms.author: matp
manager: kvivek
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---

# <a name="define-status-reason-transitions-for-the-case-or-custom-entities"></a>Определение переходов причин состояния для обращений или настраиваемых сущностей

Можно указывать переходы причин состояний для сущности "Инцидент" (**Обращение**) или настраиваемой сущности.

> [!NOTE]
> Хотя сущность инцидента (обращения) не входит в среду Common Data Service для приложений по умолчанию, она используется [Dynamics 365 for Customer Service](https://dynamics.microsoft.com/customer-service/) и определяется в [Common Data Model](https://github.com/Microsoft/CDM/blob/master/schemaDocuments/core/applicationCommon/foundationCommon/crmCommon/service/Incident.cdm.json)
  
Переходы причины состояния — это необязательный дополнительный уровень фильтрации возможного значения причины состояния при его изменении для каждой из таких причин. Определение ограниченного списка допустимых вариантов может упростить пользователям выбор правильной следующей причины состояния при наличии большого количества сочетаний для допустимых значений причин состояния.  
  
<a name="BKMK_StatusAndStatusReasons"></a>

## <a name="what-is-the-connection-between-status-and-status-reason-fields"></a>Какова связь между полями "Состояние" и "Причина состояния"?  

Сущности, которые могут иметь разные значения состояния, имеют два поля для фиксации этих данных:  
  
|Отображаемое имя|Описание|  
|------------------|-----------------|  
|**Состояние**|Представляет состояние записи. Обычно это **Активно** или **Неактивно**. Добавить новые варианты состояния нельзя.|  
|**Причина состояния**|Представляет причину, связанную с определенным состоянием. Каждое состояние должно иметь хотя бы одну возможную причину состояния. Можно добавлять дополнительные варианты причин состояния.|  
  
Метаданные для поля определяют, какие значения состояния допустимы для данного состояния. Например, для сущности "Инцидент" (**Обращение**) варианты состояний и причин состояния по умолчанию следующие:  
  
|Статус|Состояние|  
|------------|-------------------|  
|**Активно**|<li>**Выполняется**</li><li>**Отложенный**</li><li>**Ожидание подробностей**</li><li>**Исследование**</li>| 
|**Разрешено**|<li>**Проблема решена**</li><li>**Сведения предоставлены**</li>|
|**Отменено**|<li>**Отменено**</li><li>**Объединен**</li>|
  
  
<a name="BKMK_EditStatusReasonTransitions"></a>   

## <a name="edit-status-reason-transitions"></a>Редактирование переходов причин состояния
 
Можно изменять варианты в поле причины состояния для сущности "Обращение" и настраиваемых сущностей, чтобы определить, какие другие варианты причин состояния могут выбирать пользователи. Единственное ограничение состоит в том, что каждый вариант причины состояния для активного состояния должен допускать хотя бы один путь к неактивному состоянию. В противном случае можно создать условие, где будет невозможно разрешить или отменить обращение.  

> [!NOTE]
> Для редактирования переходов причин состояния требуется использовать обозреватель решений. См. раздел [Создание и изменение полей для Common Data Service для приложений с помощью обозревателя решений PowerApps](create-edit-field-solution-explorer.md) для получения сведения о порядке редактирования полей.
  
 При изменении поля причины состояния кнопка **Редактировать переходы причин состояния** присутствует в меню. 

![Команда редактирования переходов причин состояния](media/status-reason-transitions-command.png)

При нажатии этой кнопки открывается диалоговое окно **Переходы причин состояния**, где можно установить флажок **Включить переходы причин состояния**. Когда этот флажок установлен, необходимо определить, какие *другие* значения причин состояния допустимы для каждой причины состояния. Чтобы удалить примененный фильтр, снимите флажок **Включить переходы причин состояния**. Определенные вами переходы будут сохранены, но не будут применяться.  
  
На снимке экрана ниже приведен пример, который соответствует следующим требованиям: 
 
- Обращение можно объединить в любое время. Объединить обращения будет невозможно, если переход причины состояния этого не допускает.  
- Активное обращение может быть отменено в любое время.  
- Разрешенное или отмененное обращение невозможно активировать повторно.  
- Все обращения должны пройти через следующие этапы: **Выполняется** > **Отложено** > **Ожидание подробностей** > **Исследование**, прежде чем они смогут быть разрешены. С этой конфигурацией для обращения нельзя установить какое-либо из предыдущих состояний.  
  > [!NOTE]
  >  Это не очень хороший пример для реальной работы, однако он демонстрирует, как можно принудительно применять этапы состояния с помощью переходов причин состояния.  
  
 ![Пример изменения причины состояния для обращения](media/status-reason-transitions-example.PNG)  
  
### <a name="see-also"></a>См. также  

[Создание и изменение полей для Common Data Service для приложений с помощью обозревателя решений PowerApps](create-edit-field-solution-explorer.md)<br />
[Метаданные сущности > Состояния сущности](/powerapps/developer/common-data-service/entity-metadata#entity-states)<br />
[Определение переходов настраиваемой модели состояний](/dynamics365/customer-engagement/developer/define-custom-state-model-transitions)

