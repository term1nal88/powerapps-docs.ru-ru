---
title: Определение переходов причин состояний в PowerApps | Документы Майкрософт
description: Узнайте, как определять переходы причин состояний
ms.custom: ''
ms.date: 05/25/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
author: Mattp123
ms.assetid: dbc4f436-0b23-42f9-8079-b0de482aaebe
caps.latest.revision: 11
ms.author: matp
manager: kvivek
ms.openlocfilehash: e21069a86d2ef21e8209fea6ea4a4b05e604cda4
ms.sourcegitcommit: aba996b1773ecdf62758e06b34eaf57bede29e08
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/08/2018
ms.locfileid: "39702824"
---
# <a name="define-status-reason-transitions-for-the-case-or-custom-entities"></a>Определите переходы причин состояний для обращения или пользовательских сущностей

Можно указать переходы причин состояний для сущности "Инцидент" (**Обращение**) или пользовательской сущности.

> [!NOTE]
> Несмотря на то что сущность "Инцидент" (Обращение) не включена в службу Common Data Service для среды приложений по умолчанию, она используется решением [Dynamics 365 for Customer Service](https://dynamics.microsoft.com/customer-service/) и определяется в [модели общих данных](https://github.com/Microsoft/CDM/blob/master/schemaDocuments/core/applicationCommon/foundationCommon/crmCommon/service/Incident.cdm.json)
  
Переходы причин состояний служат необязательным дополнительным уровнем фильтрации, который позволяет определить, на что можно поменять значение причины состояния для каждой причины состояния. Определение ограниченного списка допустимых параметров упростит выбор подходящей следующей причины состояния для записи при наличии большого числа комбинаций допустимых значений причин состояний.  
  
<a name="BKMK_StatusAndStatusReasons"></a>

## <a name="what-is-the-connection-between-status-and-status-reason-fields"></a>Какая связь между полями "Состояние" и "Причина состояния"?  

Для сущностей с разными значениями состояния имеется два поля, фиксирующих эти данные:  
  
|Отображаемое имя|Описание|  
|------------------|-----------------|  
|**Status;**|Представляет состояние записи. Как правило, имеет значение **Активна** или **Неактивна**. Добавить новые параметры состояния невозможно.|  
|**Причина состояния**|Представляет причину, которая связана с определенным состоянием. Каждое состояние должно иметь по крайней мере одну возможную причину состояния. При необходимости можно добавить и другие варианты причин состояний.|  
  
Метаданные для этого поля определяют, какие значения состояния являются допустимыми для данного состояния. Так, для сущности "Инцидент" (**Обращение**) состояние по умолчанию и причина состояния будут следующими:  
  
|Состояние|Причина состояния|  
|------------|-------------------|  
|**Активно**|<li>**Выполняется**</li><li>**Приостановлено**</li><li>**Ожидание сведений**</li><li>**Исследование**</li>| 
|**Разрешено**|<li>**Проблема решена**</li><li>**Предоставленные сведения**</li>|
|**Отменено**|<li>**Отменено**</li><li>**Выполнено слияние**</li>|
  
  
<a name="BKMK_EditStatusReasonTransitions"></a>   

## <a name="edit-status-reason-transitions"></a>Изменение переходов причин состояний
 
Для сущности "Обращение" и пользовательских сущностей можно менять варианты полей с указанием причины состояния, чтобы указать, какие другие причины состояний может выбрать пользователь. Единственным ограничением является то, что каждый вариант причины состояния для активного состояния должен допускать по меньшей мере один путь в неактивное состояние. В противном случае могут возникнуть условия, когда разрешить или отменить обращение будет невозможно.  

> [!NOTE]
> Для изменения переходов причин состояний необходимо использовать обозреватель решений. См. сведения о редактировании полей в разделе [Создание и редактирование полей для служб Common Data Service для приложений с помощью обозревателя решений PowerApps](create-edit-field-solution-explorer.md).
  
 При редактировании поля причины состояния в меню отображается кнопка **Изменить переходы причин состояний**. 

![Команда "Изменить переходы причин состояний"](media/status-reason-transitions-command.png)

При нажатии этой кнопки в диалоговом окне **Переходы причин состояний** появляется возможность выбрать вариант **Включить переходы причин состояний**. При выборе этого варианта необходимо определить, какие *другие* значения причин состояний можно указать для каждой из причин состояний. Чтобы удалить примененную фильтрацию, снимите флажок **Включить переходы причин состояний**. Определенные вами переходы сохранятся, но не будут применяться.  
  
На следующем снимке экрана приведен пример, соответствующий следующим требованиям: 
 
- Можно в любой момент выполнить слияние обращений. Вы не сможете выполнить слияние обращений, если этого не позволяет переход причины состояния.  
- Можно в любой момент отменить активное обращение.  
- Активировать повторно разрешенное или отмененное обращение невозможно.  
- Все обращения должны пройти следующие этапы: **Выполняется** > **Приостановлено** > **Ожидание сведений** > **Исследование**, прежде чем их можно будет разрешить. В такой конфигурации невозможно присвоить обращению более раннее состояние.  
  > [!NOTE]
  >  Это не очень хороший пример для реальной работы, однако он демонстрирует, как можно реализовывать этапы состояния через переходы причин состояний.  
  
 ![Пример переходов причин состояний для обращения](media/status-reason-transitions-example.PNG)  
  
### <a name="see-also"></a>См. также  

[Создание и редактирование полей для служб Common Data Service для приложений с помощью обозревателя решений PowerApps](create-edit-field-solution-explorer.md)<br />
[Метаданные сущности > Состояния сущностей](/powerapps/developer/common-data-service/entity-metadata#entity-states)<br />
[Определение переходов в пользовательской модели состояний](/dynamics365/customer-engagement/developer/define-custom-state-model-transitions)

