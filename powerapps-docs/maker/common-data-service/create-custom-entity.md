---
title: Учебник по созданию настраиваемой сущности с компонентами с помощью PowerApps | Документы Майкрософт
description: Учебник с пошаговыми инструкциями по созданию и настройке сущности для использования в приложении PowerApps.
author: Mattp123
manager: kfile
ms.service: powerapps
ms.component: cds
ms.topic: tutorial
ms.date: 05/01/2018
ms.author: matp
ms.openlocfilehash: c587ed6488ae498e3ec662016ee1d028023e4095
ms.sourcegitcommit: 68fc13fdc2c991c499ad6fe9ae1e0f8dab597139
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2018
ms.locfileid: "34168258"
---
# <a name="tutorial-create-a-custom-entity-that-has-components-in-powerapps"></a>Учебник. Создание настраиваемой сущности с компонентами в PowerApps

При использовании [!INCLUDE [powerapps](../../includes/powerapps.md)] вы настраиваете приложение в соответствии с отраслью, спецификациями и уникальными бизнес-процессами своей организации. Разработка приложений [!INCLUDE [powerapps](../../includes/powerapps.md)] предполагает добавление стандартных (готовых) или создание пользовательских сущностей. Сущность определяет отслеживаемые данные в форме записей, которые обычно представляют собой такие свойства, как название организации, ее расположение, продукты, адрес электронной почты и номер телефона. 

В этом учебнике вы создадите сущность, а затем добавите или настроите основные компоненты, такие как поля, отношения, представления и формы. Вы узнаете, как выполнять следующие задачи:

- Создание настраиваемой сущности
- Добавление пользовательских полей в сущность
- Добавление отношения сущности
- Настройка представления 
- Настройка формы

В этом учебнике в качестве примера рассматривается компания Contoso, которая занимается уходом за домашними животными (кошками и собаками). Ей требуется приложение для отслеживания клиентов и домашних животных, которое сотрудники могли бы использовать на различных устройствах.

## <a name="prerequisites"></a>Технические условия

Войдите в [PowerApps](https://powerapps.microsoft.com/). Если у вас еще нет учетной записи [!INCLUDE [powerapps](../../includes/powerapps.md)], перейдите по ссылке **Зарегистрируйтесь бесплатно** на сайте [powerapps.com](https://web.powerapps.com).

## <a name="create-a-custom-entity"></a>Создание настраиваемой сущности

1. В левой области навигации разверните раздел **Данные**, выберите пункт **Сущности**, а затем нажмите кнопку **Создать сущность**.
    ![Новая сущность](media/create-custom-entity/create-new-entity.png)
2. В правой области введите указанные ниже значения и нажмите кнопку **Далее**.
  - **Отображаемое имя**: *Животное* 
  - **Описание**: *Настраиваемая сущность для отслеживания услуг по уходу за животными*
3. Выберите **Сохранить сущность**.

## <a name="add-and-customize-fields"></a>Добавление и настройка полей
 
1. На вкладке **Поля** выберите поле **Первичное имя**.
2. В правой области внесите указанные ниже изменения в поле **Первичное имя**. 
  - Измените значение свойства **Отображаемое имя** с **Первичное имя** на *Кличка животного*.
  - Установите флажок **Для поиска**.  
  
    ![Изменение первичного поля](media/create-custom-entity/primary-field.png)
3. Нажмите кнопку **Готово**.
4. На вкладке **Поле** на панели инструментов конструктора сущностей выберите **Добавить поле**. В области **Свойства поля** введите или выберите указанные ниже значения и параметры.
  - **Отображаемое имя**. *Вид*
  - **Тип данных**. *Набор параметров*
  - **Набор параметров**. *Новый набор параметров*
5. Создание набора параметров

  а) Выберите **Добавить новый элемент**. 
  
  б) Замените значение **Новый параметр** на *Собака*. 
   
  в) Выберите **Добавить новый элемент**. 
    
  г)  Замените значение **Новый параметр** на *Кошка*. 
    
  и. Щелкните **Сохранить**. 

  ![Новый набор параметров](media/create-custom-entity/optionset-add-items.png)

6. Установите флажок **Для поиска** и нажмите кнопку **Готово**.

7. На панели инструментов конструктора сущностей выберите **Добавить поле**. В области **Свойства поля** введите или выберите указанные ниже значения, а затем нажмите кнопку **Готово**.
  - **Отображаемое имя**. *Порода*
  - **Тип данных**. *Текст*
  - **Для поиска**. *Да*

8. На панели инструментов конструктора сущностей выберите **Добавить поле**. 

9. В области **Свойства поля** введите или выберите указанные ниже значения, а затем нажмите кнопку **Готово**. 
  - **Отображаемое имя**. *Дата посещения*
  - **Тип данных**. *Дата и время*

10. Выберите **Сохранить сущность**.

## <a name="add-a-relationship"></a>Добавление отношения

1. Перейдите на вкладку **Отношения**, затем на панели инструментов конструктора сущностей выберите **Добавить отношение**, а после этого — **Многие к одному**. 
2. На правой панели в списке **Связанные** выберите **Учетная запись**.
3. Нажмите кнопку **Готово**.
4. Выберите **Сохранить сущность**.

Обратите внимание, что при добавлении отношения "многие к одному" в список полей на вкладке **Поля** автоматически добавляется поле **Учетная запись** с типом данных **Поиск**. ![Поле подстановки "Учетная запись"](media/create-custom-entity/account-lookup-field.png)

## <a name="customize-a-view"></a>Настройка представления

1. Перейдите на вкладку **Представления** и выберите представление **Активные животные**. Если представление **Активные животные** отсутствует, выберите **Удалить фильтр**.
2. В конструкторе представлений выберите команду **Добавить столбцы**, затем перечисленные ниже столбцы и нажмите кнопку **ОК**.
  - Учетная запись
  - Дата посещения 
  - Порода 
  - Вид
3. Выберите столбец **Дата создания**, нажмите **Удалить**, а затем нажмите кнопку **ОК**, чтобы подтвердить удаление столбца.
4. Чтобы упорядочить столбцы, выберите столбец, который нужно переместить, а затем нажимайте кнопки со стрелками <- и ->, пока представление не будет выглядеть так:
    ![Представление активных животных](media/create-custom-entity/active-pets-view.png)
5. На панели инструментов конструктора представлений нажмите **Сохранить и закрыть**.  

## <a name="model-driven-apps-only-customize-the-main-form"></a>Настройка главной формы (только для приложений на основе модели)

Если сущность "Животное" будет использоваться только в приложении на основе холста, пропустите этот этап. 

1. В области навигации [!INCLUDE [powerapps](../../includes/powerapps.md)] слева выберите **На основе модели**.
2. В левой области навигации разверните раздел **Данные**, выберите пункт **Сущности**, а затем выберите **Животное**.
3. Откройте вкладку **Формы**, а затем выберите **Сведения** в строке с типом формы **Главная**, чтобы открыть редактор форм.
    ![Изменение главной формы](media/create-custom-entity/main-form-edit.png)
4. В редакторе форм перетащите поля **Вид**, **Порода**, **Дата посещения** и **Учетная запись** из области "Браузер полей" в раздел "Общие" холста формы, чтобы форма выглядела так:
    ![Выбор полей для главной формы](media/create-custom-entity/main-form-edit2.png) 
5. Щелкните **Сохранить**.
6. Щелкните **Опубликовать**.
7. Нажмите **Сохранить и закрыть**, чтобы закрыть конструктор форм.

## <a name="add-the-custom-entity-to-an-app"></a>Добавление настраиваемой сущности в приложение

Теперь сущность можно использовать для создания приложения на основе холста или модели. 

## <a name="next-steps"></a>Дальнейшие действия

В этом учебнике вы узнали, как создать сущность, которую можно использовать для разработки полезного приложения. 
- Сведения о создании приложения на основе модели см. в статье о [создании первого приложения на основе модели](../model-driven-apps/build-first-model-driven-app.md).
- Инструкции по созданию приложения на основе холста см. в статье [Создание приложения с нуля](../canvas-apps/get-started-create-from-blank.md).
