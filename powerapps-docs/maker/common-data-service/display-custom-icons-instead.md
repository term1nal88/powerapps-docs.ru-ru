---
title: Отображение настраиваемых значков вместо значений в представлениях списка с PowerApps | MicrosoftDocs
description: Научитесь отображать настраиваемых значки в представлении
ms.custom: ''
ms.date: 06/21/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
  - Dynamics 365 (online)
  - Dynamics 365 Version 9.x
  - powerapps
author: Mattp123
ms.assetid: af866aed-2586-4b6f-bb1c-3519baae3645
caps.latest.revision: 25
ms.author: matp
manager: kvivek
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---
# <a name="display-custom-icons-instead-of-values-in-list-views"></a>Отображение настраиваемых значков вместо значений в представлениях списка

<a name="GridIcons"></a>   

 Администраторы и специалисты по настройте среды PowerApps могут добавить графику в представление и настроить логику, используемую для выбора графика на основе значений столбца, используя JavaScript. Возможность отображать представления списков, в некоторых столбцах которых выводятся значки вместо текста или числовых значений, была введена в Relationship Insights. 
  
> [!NOTE]
>  Значки таблицы отображаются только в веб-интерфейсе. Они не отображаются в [!INCLUDE[pn_Outlook_short](../../includes/pn-outlook-short.md)] или в мобильном приложении.  
  
### <a name="add-custom-graphics-and-javascript-as-web-resources"></a>Добавление настраиваемых графических элементов и JavaScript в качестве веб-ресурсов  
  
1.  Создайте новые графические файлы, необходимые для вашей настройки. Рекомендуется размер значок 16x16 пикселов (большие изображения уменьшаются масштабированием).  
  
2.  Создайте одну или несколько функций JavaScript, которые задают, какие значки должны отображаться для каких значений (обычно требуется по одной функции для каждого столбца, который требуется настроить). Каждая функция должна принимать объект данных строки и код языка (LCID) в качестве входных данных и возвращать массив, содержащий имя изображения и текст подсказки. Пример функции см. в пункте [Пример функции JavaScript](#SampleJavascript) далее в этом разделе.  
  
3.  Войдите в свою среду как администратор и откройте [обозреватель решений](../model-driven-apps/advanced-navigation.md#solution-explorer).  
  
4.  Открывается всплывающее окно **Решение по умолчанию**. Перейдите здесь на **Компоненты** > **Веб-ресурсы**.  
  
5.  Теперь следует по одному отправить пользовательские графические элементы в качестве веб-ресурсов. Выберите кнопку **Создать** на панели инструментов, чтобы создать новый веб-ресурс. Открывается другое всплывающее окно, помогающие создать ресурс. Выполните следующие действия:  
  
    1.  Задайте понятное **Имя** нового ресурса. Это имя, которое будет использоваться для ссылки на каждый графический элемент из кода JavaScript.  
  
    2.  Задайте для параметра **Тип** графический формат, который использовался для сохранения графических файлов (PNG, JPEG или GIF).  
  
    3.  Выберите **Выбрать файл**, чтобы открыть окно браузера файлов. Используйте его для поиска и выбора графического файла.  
  
    4.  Если хотите, добавьте **Отображаемое имя** и/или **Описание**.  
  
    5.  Выберите **Сохранить**, затем закройте окно **Веб-ресурс**.  
  
6.  Повторите предыдущий шаг для каждого своего графического файла.  
  
7.  Теперь вы добавите свой код JavaScript в качестве последнего веб-ресурса. Выберите **Создать** на панели инструментов, чтобы создать новый веб-ресурс. Открывается другое всплывающее окно, помогающие создать ресурс. Выполните следующие действия:  
  
    1.  Задайте понятное **Имя** нового ресурса.  
  
    2.  Задайте для параметра **Тип** значение **Скрипт (JScript)**.  
  
    3.  Выберите **Текстовый редактор** (рядом с параметром **Тип**) для открытия окна текстового редактора. Вставьте сюда код JavaScript и выберите **ОК**, чтобы сохранить его.  
  
    4.  Если хотите, добавьте **Отображаемое имя** и/или **Описание**.  
  
    5.  Выберите **Сохранить**, затем закройте окно **Веб-ресурс**.  
  
8.  С все еще открытым всплывающим окном **Решение по умолчанию** разверните дерево **Компоненты** > **Сущности** и найдите сущность, которую требуется настроить.  
  
9. Разверните сущность и выберите ее значок **Представления**.  
  
10. Теперь вы видите список представлений для выбранной сущности. Выберите представление из списка. Затем откройте раскрывающийся список **Другие действия** на панели инструментов и выберите **Изменить**.  
  
11. Открывается всплывающее окно с элементами управления для редактирования выбранного представления. В нем отображается каждый столбец, являющийся частью представления. Выберите целевой столбец, затем выберите **Изменить свойства** в поле **Общие задачи**. Открывается диалоговое окно **Изменить свойства столбца**; выполните здесь следующие настройки:  
  
    - **Веб-ресурс**: укажите имя веб-ресурса, созданного для хранения функции JavaScript (выберите **Обзор** для выбора из списка).  
  
    - **Имя функции**: введите имя функции, созданной для изменения выбранного столбца и представления.  
  
12. Выберите **ОК**, чтобы закрыть диалоговое окно **Изменить свойства столбца**.  
  
13. Выберите **Сохранить и закрыть**, чтобы сохранить представление.  
  
14. Повторите эти шаги для каждой сущности, представления и столбца по мере необходимости.  
  
15. Когда все будет готово, выберите **Опубликовать все настройки**, чтобы опубликовать изменения. Затем закройте окно **Решение по умолчанию**.  
  
<a name="SampleJavascript"></a>   

### <a name="sample-javascript-function"></a>Пример функции JavaScript  
 Функция JavaScript для отображения настраиваемых значков и подсказок ожидает следующие два аргумента: всю строку объекта, указанного в layoutxml, и идентификатор локали вызывающего пользователя (LCID). Параметр LCID позволяет указать текст подсказок на нескольких языках. Дополнительные сведения о языках, поддерживаемых средой, см. в разделах [Включение языков](https://docs.microsoft.com/dynamics365/customer-engagement/admin/enable-languages) и [Установка или обновление языковых пакетов для Dynamics 365](https://technet.microsoft.com/library/hh699674.aspx). Список значений кодов языков (LCID), которые можно применять в коде, см. в статье [Коды языков, назначенные Microsoft](https://go.microsoft.com/fwlink/?linkid=829588).

  
 Предполагая, что настраиваемые значки будут добавляться для атрибута типа набора параметров, который имеет ограниченный набор стандартных параметров, убедитесь, что используется целое значение параметров, а не подписи, чтобы избежать проблем с локализацией.  
  
 Следующий пример кода отображает значки и подсказки на основе одного из трех значений (1: Горячо, 2: Тепло, 3: Холодно) в атрибуте opportunityratingcode (Оценка). Пример кода также показывает, как отображать локализованный текст подсказки. Чтобы этот пример работал, необходимо создать три графических веб-ресурса с изображениями размером 16x16 со следующими именами: new_Hot, new_Warm и new_Cold.  
  
```  
function displayIconTooltip(rowData, userLCID) {      
    var str = JSON.parse(rowData);  
    var coldata = str.opportunityratingcode_Value;  
    var imgName = "";  
    var tooltip = "";  
    switch (parseInt(coldata,10)) { 
        case 1:  
            imgName = "new_Hot";  
            switch (userLCID) {  
                case 1036:  
                    tooltip = "French: Opportunity is Hot";  
                    break;  
                default:  
                    tooltip = "Opportunity is Hot";  
                    break;  
            }  
            break;  
        case 2:  
            imgName = "new_Warm";  
            switch (userLCID) {  
                case 1036:  
                    tooltip = "French: Opportunity is Warm";  
                    break;  
                default:  
                    tooltip = "Opportunity is Warm";  
                    break;  
            }  
            break;  
        case 3:  
            imgName = "new_Cold";  
            switch (userLCID) {  
                case 1036:  
                    tooltip = "French: Opportunity is Cold";  
                    break;  
                default:  
                    tooltip = "Opportunity is Cold";  
                    break;  
            }  
            break;  
        default:  
            imgName = "";  
            tooltip = "";  
            break;  
    }  
    var resultarray = [imgName, tooltip];  
    return resultarray;  
}  
```  
  
 В результате в столбце **Оценка** отображаются значки с подсказками, зависящими от значения в каждой строке. Результат будет выглядеть примерно так:  
  
 ![Пример настраиваемой графики для столбца](media/custom-column-graphics-example.png "Пример настраиваемой графики для столбца")  
 
 ### <a name="see-also"></a>См. также
 [Создание или изменение представлений](../model-driven-apps/create-edit-views.md)
