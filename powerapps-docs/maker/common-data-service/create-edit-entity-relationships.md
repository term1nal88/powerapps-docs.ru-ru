---
title: Обзор отношений сущностей для Common Data Service для приложений | MicrosoftDocs
ms.custom: ''
ms.date: 05/26/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
  - Dynamics 365 (online)
  - Dynamics 365 Version 9.x
  - PowerApps
ms.assetid: c765b6d9-4d87-4c2d-aae2-5b1c3b664a71
caps.latest.revision: 28
ms.author: matp
manager: brycho
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---
# <a name="entity-relationships-overview"></a>Обзор отношений сущностей

Отношения сущностей определяют, как записи можно связывать друг с другом в базе данных. На самом простом уровне добавление поля поиска в сущность создает новое отношение 1:N (один ко многим) между двумя сущностями, а также позволяет поместить это поле поиска в форму. При наличии поля поиска пользователи могут связать несколько *дочерних* записей данной сущности с одной *родительской* записью сущности.  
  
Отношения сущностей 1: N не только определяют, как записи можно связывать с другими записями, но также предоставляет данные для решения следующих вопросов:  
  
- При удалении записи удаляются ли все записи, связанные с этой записью?  
- При назначении записи следует ли также назначить все записи, связанные с этой записью, новому владельцу?  
- Как ускорить процесс ввода данных при создании новой связанной записи в контексте существующей записи?  
- Как пользователи, просматривающие запись, могут просмотреть связанные записи?  
  
 Сущности также могут участвовать в отношении N:N (многие ко многим), в котором любое число записей для двух сущностей можно связать друг с другом.  

<a name="BKMK_Connections"></a>

## <a name="decide-whether-to-use-entity-relationships-or-connections"></a>Что использовать: отношения или соединения сущностей 
 
Отношения сущностей — это метаданные, которые вносят изменения в базу данных. Эти отношения позволяют запросам очень эффективно извлекать связанные данные. С помощью отношений сущностей можно определить формальные отношения, определяющие сущность или то, что может использовать большинство записей. Например, возможная сделка без потенциального клиента будет не очень полезна. Сущность "Возможная сделка" также имеет отношение N:N с сущностью "Конкурент". Это позволяет добавить несколько конкурентов в возможную сделку. Может потребоваться собрать эти данные и создать отчет по конкурентам.  
  
Существуют другие менее формальные типы отношений между записями, которые называются *соединениями*. Например, может быть полезно знать, состоят ли два контакта в браке, являются ли они друзьями вне работы или работал ли контакт на другую организацию. Большинство предприятий не создают отчеты с подобными сведениями и не требуют их указывать, поэтому может быть нецелесообразно создавать отношения сущностей. Дополнительные сведения: [Настройка ролей подключения](configure-connection-roles.md)

  
<a name="BKMK_TypesOfRelationships"></a>
 
## <a name="types-of-entity-relationships"></a>Типы отношений сущностей

Если посмотреть на обозреватель решений, можно подумать, что существует три типа отношений сущностей. На самом деле существует только два типа, как показано в следующей таблице.  
  
|Тип отношений|Описание|  
|-----------------------|-----------------|  
|**1:N (один-ко-многим)**|Отношение сущностей, при котором одну запись **Основная сущность** можно связать со многими другими записями **Связанная сущность** благодаря полю поиска в связанной сущности.<br /><br /> При просмотре записи основной сущности можно просмотреть список связанных с ней записей связанных сущностей.|  
|**N:N (многие-ко-многим)**|Отношение сущностей, зависящее от специальной сущности **Сущность отношения**, которая иногда называется пересекающейся сущностью, при котором множество записей одной сущности может быть связано со множеством записей другой сущности.<br /><br /> При просмотре записей любой из сущностей в отношении N:N можно просмотреть список всех записей другой сущности, связанных с ней.|  
  
Тип отношения **N:1 (многие-к-одному)** существует в пользовательском интерфейсе, поскольку в конструкторе отображается представление, сгруппированное по сущностям. Отношения 1:N фактически существуют *между* сущностями, и каждая сущность в них называется либо **Основная сущность**, либо **Связанная сущность**. Связанная сущность, иногда называемая *дочерней* сущностью, имеет поле поиска, которое позволяет хранить ссылку на запись из основной сущности, иногда называемой *родительской* сущностью. Отношение N:1 — это просто отношение 1:N с точки зрения связанной сущности.  
 
## <a name="see-also"></a>См. также

[Обзор сущностей и метаданных](create-edit-metadata.md)<br />
[Создание и изменение отношений 1:N (один-ко-многим) или N:1 (многие-к-одному)](create-edit-1n-relationships.md)<br />
[Создание отношений сущностей N:N (многие-ко-многим)](create-edit-nn-relationships.md)

