---
title: Управление настраиваемыми полями в сущности | Microsoft Docs
description: 'Пошаговое руководство по созданию, чтению, обновлению и удалению настраиваемых полей в сущности в Common Data Service (CDS) для приложений.'
author: clwesene
manager: kfile
ms.service: powerapps
ms.component: cds
ms.topic: conceptual
ms.date: 03/21/2018
ms.author: clwesene
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---

# <a name="manage-custom-fields-in-an-entity"></a>Управление настраиваемыми полями в сущности
Можно создать и обновить одно или несколько настраиваемых полей в любой сущности. При создании настраиваемого поля указывается набор свойств, например название поля, его отображаемое имя и тип данных, которые оно будет содержать. Дополнительные сведения см. в разделе [Метаданные атрибута сущности](../../developer/common-data-service/entity-attribute-metadata.md).

> [!NOTE]
> Каждая сущность имеет системные поля, например поля, которые указывают, когда запись в последний раз была обновлена и кто обновил ее. Кроме того, стандартные сущности имеют стандартные поля (по умолчанию). Нельзя изменить или удалить системные или стандартные поля. При создании настраиваемого поля оно должно предоставлять функциональные возможности поверх этих встроенных полей.

## <a name="create-a-field"></a>Создание поля
1. На сайте [powerapps.com](https://web.powerapps.com/?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc) разверните раздел **Данные** и щелкните или нажмите **Сущности** на левой панели навигации.

    ![Сведения о сущности](./media/data-platform-cds-create-entity/entitylist.png "Список сущностей")

2. Щелкните или нажмите существующую сущность или [Создайте новую сущность](data-platform-create-entity.md)

3. Добавьте новое поле для сущности, нажав **Добавить поле**.

4. На панели создания поля введите **Отображаемое имя** для данного поля, **Имя** автоматически заполняется и используется как уникальное имя для вашего поля. **Отображаемое имя** используется при отображении этого поля пользователям, а поле **Имя** используется при создании приложения, в выражениях и формулах.

    > [!NOTE]
    > Поля **Отображаемое имя** можно обновить в любое время для изменения отображения в приложениях, а поле **Имя** не может быть изменено после сохранения сущности, так как это могло бы привести к нарушению работы существующего приложения.

    ![Создать поле](./media/data-platform-cds-create-entity/newfieldpanel.png "Панель создания поля")

5. Выберите **Тип данных** поля, это влияет на способ хранения данных, а также на то, как эти сведения представляются в приложениях. Например, текст хранится по-разному для десятичного числа или URL-адреса. Дополнительные сведения о доступных типах данных см. в разделе [Метаданные атрибута сущности](../../developer/common-data-service/entity-attribute-metadata.md).

    Если появится запрос, укажите дополнительную информацию для типа данных, который вы указали. В зависимости от типа данных, будут представлены различные поля. При создании поля типа "Набор параметров" или "Набор параметров с выбором нескольких вариантов" можно выбрать **Создать набор параметров** или создать новый набор параметров при создании поля. Дополнительные сведения см. в разделе [Создание набора параметров](custom-picklists.md).

    ![Создать поле](./media/data-platform-cds-create-entity/newfieldpanel-2.png "Панель создания поля")


7. В поле **Обязательно** установите флажок, если требуется рекомендовать это поле как обязательное в ваших приложениях. Это не является жестким требованием по всем подключениям к Common Data Service. Если требуется обеспечить, чтобы поле заполнялось, создайте [бизнес-правило](data-platform-create-business-rule.md)

8. В поле **Доступно для поиска** установите флажок, если необходимо, чтобы это поле было доступно в представлениях, диаграммах, панелях мониторинга и расширенном поиске. В большинстве случаев этот флажок должен быть установлен.

9. Щелкните или нажмите **Готово**, чтобы закрыть панель поля и вернуться к сущности. Можно повторить шаги 3–9 для каждого дополнительного поля.
   
    > [!IMPORTANT]
    > Ваше поле еще не сохранено и не создано, пока вы не сохраните изменения в сущности.

10. Щелкните или нажмите **Сохранить сущность**, чтобы обновить свои изменения и сохранить их в Common Data Service.

    Вы получите уведомление, когда операция будет выполнена успешно. Если операция закончилась неудачей, сообщение об ошибке указывает возникшие проблемы и способ их исправления.

## <a name="create-a-calculated-or-roll-up-field"></a>Создание вычисляемого поля или поля свертки
Вычисляемые поля позволяют автоматизировать выполняемые вручную вычисления, которые используются в ваших бизнес-процессах. Например, продавцу может потребоваться узнать взвешенный доход по возможной сделке, основанный на значении предполагаемого дохода от возможной сделки, умноженного на вероятность. Либо требуется автоматически применить скидку на заказы стоимостью более 500 долларов. Вычисляемое поле может содержать значения, полученные по результатам простых математических операций или условных операций, например "больше чем" или "если, то" и т. д. Вычисляемые поля можно создавать с использованием следующих типов данных:

* Одна строка текста
* Набор параметров
* Два параметра
* Целое число
* Десятичное число
* Валюта
* Дата и время

Дополнительные сведения о типах поддерживаемых выражений и примеры см. в разделе [Определение вычисляемых полей](/dynamics365/customer-engagement/customize/define-calculated-fields)

## <a name="update-or-delete-a-field"></a>Обновление или удаление поля
1. На сайте [powerapps.com](https://web.powerapps.com/?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc) разверните раздел **Данные** и щелкните или нажмите **Сущности** на левой панели навигации, затем щелкните или нажмите сущность.
2. В списке полей для выбранной сущности щелкните или нажмите поле, после чего выполните одно из указанных действий:
   
   * Измените одно или несколько свойств поля.
   * Удалите поле, щелкнув или нажав многоточие (...) рядом с правым краем поля, затем щелкните или нажмите **Удалить**.

3. Щелкните или нажмите **Сохранить сущность**, чтобы отправить эти изменения.
   
    > [!IMPORTANT]
    > Изменения будут утеряны, если не сохранить их перед открытием другой страницы в браузере или выходом из браузера.

    Вы получите уведомление, когда операция будет выполнена успешно. Если операция закончилась неудачей, сообщение об ошибке указывает возникшие проблемы и способ их исправления.

## <a name="best-practices-and-restrictions"></a>Рекомендации и ограничения
При создании и изменении полей помните следующее:

* Нельзя изменить или удалить системные поля или их значения.
* В стандартной сущности нельзя изменить или удалить стандартное поле (по умолчанию), добавить поле, которое требует данных, или сделать любое изменение, которое может нарушить работу приложения, которое полагается на эту сущность.
* В пользовательской сущности необходимо убедиться в том, что изменения не нарушат работу никаких приложений, которые полагаются на эту сущность.
* Необходимо присвоить каждому настраиваемому полю имя, которое уникально в пределах сущности, и невозможно переименовать поле после его создания.

## <a name="next-steps"></a>Дальнейшие действия
* [Определение отношений между сущностями](data-platform-entity-lookup.md)
* [Создание бизнес-правила](data-platform-create-business-rule.md)
* [Создание приложения с использованием сущностей](../canvas-apps/data-platform-create-app.md)
* [Создание приложения с нуля с помощью базы данных Common Data Service](../canvas-apps/data-platform-create-app-scratch.md)

## <a name="privacy-notice"></a>Уведомление о конфиденциальности
С общей моделью данных Microsoft PowerApps мы собираем и храним имена настраиваемых сущностей и полей в наших диагностических системах.  Мы используем это знания, чтобы улучшить общую модель данных для наших клиентов. Имена сущностей и полей, которые создают создатели, помогают нам понять сценарии, часто встречающиеся в сообществе Microsoft PowerApps и заполнить пробелы в охвате стандартных сущностей сервиса, например схемы, связанные с организациями. Данных в таблицах базы данных, связанные с этими сущностями, не получаются и не используются корпорацией Майкрософт и не дублируются за пределами региона, в которой эта база данных подготовлена. Однако обратите внимание, что имена настраиваемых сущностей и полей могут реплицироваться между регионами и удаляются в соответствии с нашими политиками хранения данных. Майкрософт считает своим долгом сохранять вашу конфиденциальность, как полнее описано в нашем [Центре управления безопасностью](https://www.microsoft.com/trustcenter/Privacy/default.aspx).

